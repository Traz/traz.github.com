<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Traz's notes</title>
 <link href="http://traz.github.com/atom.xml" rel="self"/>
 <link href="http://traz.github.com/"/>
 <updated>2013-04-24T23:55:52+11:00</updated>
 <id>http://traz.github.com</id>
 <author>
   <name>Traz</name>
 </author>

 
 <entry>
   <title>Exploring Network with Ruby : PCap/WinPCap, FFI</title>
   <link href="http://traz.github.com/post/2013/Exploring-network-PCap-FFI"/>
   <updated>2013-04-23T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Exploring-network-PCap-FFI</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#purpose&quot;&gt;Purpose&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#installing-libraries&quot;&gt;Installing libraries&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#listing-network-devices&quot;&gt;Listing network devices&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#listening-raw-packet&quot;&gt;Listening raw packet&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#filtering&quot;&gt;Filtering&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hexdump&quot;&gt;Hexdump&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ethernet-frame-structure&quot;&gt;Ethernet frame structure&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#analyzing-ethernet-frame&quot;&gt;Analyzing Ethernet Frame&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;purpose&quot;&gt;Purpose&lt;/h3&gt;

&lt;p&gt;Since I got some times some overload in my lan wireless network, I want to see who and what traffic is in it, and take this task for exploring the OSI model …&lt;/p&gt;

&lt;h3 id=&quot;installing-libraries&quot;&gt;Installing libraries&lt;/h3&gt;

&lt;p&gt;For Windows, install the &lt;a href=&quot;http://www.winpcap.org/&quot;&gt;winpcap library&lt;/a&gt; : this dll is use by common network tools like wireshark for listening packet over networks.&lt;/p&gt;

&lt;p&gt;And get a Ruby binding : &lt;a href=&quot;https://github.com/sophsec/ffi-pcap&quot;&gt;FFI-PCap&lt;/a&gt; installed with &lt;code&gt;gem i ffi-pcap&lt;/code&gt;. FFI is a nice library for use other language library.&lt;/p&gt;

&lt;h3 id=&quot;listing-network-devices&quot;&gt;Listing network devices&lt;/h3&gt;

&lt;p&gt;There are several methods for listing active network device : check methods in pry by :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd FFI::PCap
ls
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;device_names&lt;/code&gt; and &lt;code&gt;dump_devices&lt;/code&gt; just list actives devices use later for listening (&lt;code&gt;FFI::PCap.device_names&lt;/code&gt; in full).&lt;/p&gt;

&lt;p&gt;Other methods like &lt;code&gt;pcap_lookupnet&lt;/code&gt;, &lt;code&gt;pcap_findalldevs&lt;/code&gt; take some unusual arguments in Ruby but common in C : pointers … (look at source &lt;em&gt;pcap.rb&lt;/em&gt; in the gem for full description of parameters of each methods). The FFI library provide all the help.&lt;/p&gt;

&lt;p&gt;Example for &lt;code&gt;pcap_lookupnet&lt;/code&gt; for the first device :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ffi/pcap&amp;#39;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device_names&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;first&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;netp&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:MemoryPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:bpf_uint32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;maskp&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:MemoryPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;find_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:bpf_uint32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;errbuf&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ErrorBuffer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;

    &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pcap_lookupnet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;netp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maskp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;errbuf&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;netp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_array_of_uchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maskp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_array_of_uchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Example for &lt;code&gt;pcap_findalldevs&lt;/code&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ffi/pcap&amp;#39;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;devices&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:MemoryPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:pointer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;errbuf&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ErrorBuffer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; 
    
    &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pcap_findalldevs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;errbuf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;devices&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_pointer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Interface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# return a structure object for exploring :&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addresses&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addresses&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addr&lt;/span&gt;

    &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pcap_freealldevs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;listening-raw-packet&quot;&gt;Listening raw packet&lt;/h3&gt;

&lt;p&gt;We’ve got our active device, so let listen to packets :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ffi/cap&amp;#39;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device_names&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# or another for you&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;pcap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;FFI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:PCap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Live&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:dev&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# for this time, listening is active, as show with stats&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;pcap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stats&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pcap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stats&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps_recv&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;pcap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datalink&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;describe&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;pakt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;pcap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pkt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# :count =&amp;gt; -1 for infinite loop, break with .breakloop method&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;pakt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pkt&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pkt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; :: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pkt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;pkt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each_byte&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;%0.2x &amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;putc&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The first packet ! :)&lt;/p&gt;

&lt;h3 id=&quot;filtering&quot;&gt;Filtering&lt;/h3&gt;

&lt;p&gt;The filter is set before the loop.
Start by the man page with lot of examples : &lt;a href=&quot;http://www.manpagez.com/man/7/pcap-filter/&quot;&gt;http://www.manpagez.com/man/7/pcap-filter/&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;set_filter = &quot;port 80&quot; # simple filter
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now let’s look into this packet …&lt;/p&gt;

&lt;h3 id=&quot;hexdump&quot;&gt;Hexdump&lt;/h3&gt;

&lt;p&gt;Start first with a better hexdump look with … Hexdump gem :) (&lt;code&gt;gem i hexdump&lt;/code&gt;) :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;pcap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hexdump&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;};&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;render :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;00000000  33 33 00 00 00 0c 74 e5 43 82 96 a2 86 dd 60 00  |33....t.C.....`.|
00000010  00 00 00 9a 11 01 fe 80 00 00 00 00 00 00 1c 3e  |...............&amp;gt;|
00000020  c1 df 18 3d 8d ea ff 02 00 00 00 00 00 00 00 00  |...=............|
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;ethernet-frame-structure&quot;&gt;Ethernet frame structure&lt;/h3&gt;

&lt;p&gt;We are on OSI level 2, so our ‘packet’ are in reality some ‘frame’ (packet denomination is for level 3 OSI) :check &lt;a href=&quot;http://en.wikipedia.org/wiki/OSI_model#Examples&quot;&gt;http://en.wikipedia.org/wiki/OSI_model#Examples&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;| Destination MAC address | Source MAC address | Type/Length | User Data |
| :---------------------: | :----------------: | :---------: | :-------: |
|     vendor  /    id     |  vendor  /    id   |             |           |
|       3     /    3      |    3     /    3    |      2      | 46 - 1500 |
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The list of vendor / organization can be found here &lt;a href=&quot;http://anonsvn.wireshark.org/wireshark/trunk/manuf&quot;&gt;http://anonsvn.wireshark.org/wireshark/trunk/manuf&lt;/a&gt; or here &lt;a href=&quot;http://standards.ieee.org/develop/regauth/oui/oui.txt&quot;&gt;http://standards.ieee.org/develop/regauth/oui/oui.txt&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A short script to transform the wireshark database (saved as &lt;em&gt;./manuf&lt;/em&gt;) into a local YAML hash : &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def create_manuf
  ctr = {}
  File.readlines(&quot;./manuf&quot;).each do |line|
    line =~ /^([^\s]+)\s+([^#]+)(\s+#(.*))?$/
    ctr[$1] = {:sh =&amp;gt; ($2 ? $2.strip : $2), :lg =&amp;gt; ($4 ? $4.strip : $4)}
  end
  File.open(&quot;./manuf.yaml&quot;, &quot;w+&quot;){|f| f.write(ctr.to_yaml)}
  return ctr 
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ie &lt;code&gt;ctr[&quot;00:00:0C&quot;]&lt;/code&gt; give a short and a long name of the constructor.&lt;/p&gt;

&lt;p&gt;Nota: A destination MAC address of &lt;code&gt;ff:ff:ff:ff:ff:ff&lt;/code&gt; indicate a broadcast message from the source.&lt;/p&gt;

&lt;h3 id=&quot;analyzing-ethernet-frame&quot;&gt;Analyzing Ethernet Frame&lt;/h3&gt;

&lt;p&gt;First get a full frame :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;frame = &#39;&#39;
pcap.loop(count: 1){|t,p| frame = p.body}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then initialize FFI::Packets::Eth :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;eth = FFI::Packets::Eth.new raw: frame
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and get the MAC source and destination adresse and the type :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;puts eth.dump
eth.src
eth.lookup_etype
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nota : the ffi-packets gem need some adjustments (the gemspec isn’t complete), you can use my &lt;a href=&quot;https://github.com/Traz/ffi-packets&quot;&gt;fork&lt;/a&gt; for the moment.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nota 2 : read the source of ffi/dry, ffi/pcap and ffi/packets for better understanding the usage.&lt;/p&gt;
&lt;/blockquote&gt;

</content> -->
 </entry>
 
 <entry>
   <title>RegExp</title>
   <link href="http://traz.github.com/memos/2013/memo-regexp"/>
   <updated>2013-04-22T00:00:00+11:00</updated>
   <id>http://traz.github.com/memos/2013/memo-regexp</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#syntax&quot;&gt;Syntax&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#usage&quot;&gt;Usage&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#links-references&quot;&gt;Links references&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;syntax&quot;&gt;Syntax&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Regexp&lt;/th&gt;
      &lt;th&gt; &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;[abc]    &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;A single character of: a, b or c&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;[^abc]   &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any single character except: a, b, or c&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;[a-z]    &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any single character in the range a-z&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;[a-zA-Z] &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any single character in the range a-z or A-Z&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;^        &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Start of line&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;$        &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;End of line&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\A       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Start of string&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\z       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;End of string&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;.        &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any single character&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\s       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any whitespace character&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\S       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any non-whitespace character&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\d       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any digit&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\D       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any non-digit&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\w       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any word character (letter, number, underscore)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\W       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any non-word character&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;\b       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Any word boundary&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;(...)    &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Capture everything enclosed&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;(a|b)    &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;a or b&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;a?       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Zero or one of a&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;a*       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Zero or more of a&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;a+       &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;One or more of a&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;a{3}     &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Exactly 3 of a&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;a{3,}    &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;3 or more of a&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;a{3,6}   &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Between 3 and 6 of a&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;aeiou*    &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Match “aeio” followed by any number of “u”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;[aeiou]*  &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Match any number of vowels&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;(aeiou)*  &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Match any number of sequences of “aeiou”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;(dog|cat) &lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Match either “dog” or “cat”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;usage&quot;&gt;Usage&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;$1&lt;/code&gt;, &lt;code&gt;$2&lt;/code&gt;… are the result of capture by &lt;code&gt;( )&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;reg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;%r=my reg exp=&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;reg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/my regexp/&lt;/span&gt;

    &lt;span class=&quot;s2&quot;&gt;&amp;quot;string to test&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reg&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Quick ways and api&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot; 12 5 &amp;quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/ ([0-9]+)/&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/ ([0-9]+)/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pre_match&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post_match&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;captures&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# or x.to_a&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Back references&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;pattern&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/aa(\d+)-\1/&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pattern&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aa1234-1234&amp;#39;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; 0&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pattern&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=~&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aa1234-1233&amp;#39;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; nil&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Greedy &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Here another string&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;greedy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/[a-z]* [a-z]*/&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;non_greedy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/[a-z]*? [a-z]*?/&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;greedy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; &amp;quot;ere another&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;non_greedy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# =&amp;gt; &amp;quot;ere &amp;quot;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/&amp;lt;.*&amp;gt;/&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# Greedy repetition: matches &amp;quot;&amp;lt;ruby&amp;gt;perl&amp;gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/&amp;lt;.*?&amp;gt;/&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# Nongreedy: matches &amp;quot;&amp;lt;ruby&amp;gt;&amp;quot; in &amp;quot;&amp;lt;ruby&amp;gt;perl&amp;gt;&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Options&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;sr&quot;&gt;/i         case insensitive&lt;/span&gt;
&lt;span class=&quot;sr&quot;&gt;    /m&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;multiline&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;will&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newline&lt;/span&gt;
    &lt;span class=&quot;sr&quot;&gt;/x         extended mode - whitespace is ignored&lt;/span&gt;
&lt;span class=&quot;sr&quot;&gt;    /o&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;only&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interpolate&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#{} blocks once&lt;/span&gt;
    &lt;span class=&quot;sr&quot;&gt;/[neus]    encoding: none, EUC, UTF-8, SJIS, respectively&lt;/span&gt;
&lt;span class=&quot;sr&quot;&gt;    &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;links-references&quot;&gt;Links references&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://rubular.com/&quot;&gt;http://rubular.com/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.ruby-doc.org/docs/ProgrammingRuby/html/language.html#UJ&quot;&gt;http://www.ruby-doc.org/docs/ProgrammingRuby/html/language.html#UJ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://strugglingwithruby.blogspot.com/2009/05/regular-expressions-in-ruby.html&quot;&gt;http://strugglingwithruby.blogspot.com/2009/05/regular-expressions-in-ruby.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Jekyll Hack : Highlighting multiples lines with pygments</title>
   <link href="http://traz.github.com/tips/2013/tips-hacking-jekyll-pygments-multiples-lines-highlight"/>
   <updated>2013-04-20T00:00:00+11:00</updated>
   <id>http://traz.github.com/tips/2013/tips-hacking-jekyll-pygments-multiples-lines-highlight</id>
<!--    <content type="html">&lt;h3 id=&quot;hacking-jekyll--allow-multiple-lines-highlight&quot;&gt;Hacking Jekyll : allow multiple lines highlight&lt;/h3&gt;

&lt;p&gt;In Jekyll files, change the regexp syntax for allowing passing multiple parameters :&lt;/p&gt;

&lt;p&gt;File &lt;em&gt;jekyll/lib/jekyll/tags/highlight.rb&lt;/em&gt; change from :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;        
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# The regular expression syntax checker. Start with the language specifier.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# Follow that by zero or more space separated options that take one of two&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# forms:&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 1. name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 2. name=value&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;no&quot;&gt;SYNTAX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^([a-zA-Z0-9.+#-]+)((\s+\w+(=\w+)?)*)$/&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# line 29 :&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;vi&quot;&gt;@options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;to :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;        
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# The regular expression syntax checker. Start with the language specifier.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# Follow that by zero or more space separated options that take one of two&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# forms:&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 1. name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#     linenos&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 2. name=value&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#     linenos=table linenostart=56&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 3. name=value1,value2,value3 &lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#     hl_lines=2,7 linenos linenostart=56&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;no&quot;&gt;SYNTAX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^([a-zA-Z0-9.+#-]+)((\s+\w+(=\w+(,\w+)*)?)*)$/&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# line 29 :&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;vi&quot;&gt;@options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt;     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Starting a new Rails 4 : VI. Attachments with Carrierwave and Jasny</title>
   <link href="http://traz.github.com/post/2013/VI-Attachments-with-carrierwave"/>
   <updated>2013-04-18T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/VI-Attachments-with-carrierwave</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#roadmap&quot;&gt;Roadmap&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#carrierwave-start-with-avatar-for-user&quot;&gt;Carrierwave start with avatar for user&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#activerecord-integration&quot;&gt;ActiveRecord integration&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#validations-on-the-model&quot;&gt;Validations on the model&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#user-views&quot;&gt;User Views&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#bootstrap-3-and-jasny-fileupload&quot;&gt;Bootstrap 3 and Jasny FileUpload&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;roadmap&quot;&gt;Roadmap&lt;/h3&gt;

&lt;p&gt;I want to manage attachments : for starting, some avatar for users, and some files linked to projects in future.&lt;/p&gt;

&lt;p&gt;First install &lt;a href=&quot;http://www.imagemagick.org/script/binary-releases.php#windows&quot;&gt;ImageMagick&lt;/a&gt; : it need for all the mini magick stuff (as usual, in /c/dev for me).&lt;/p&gt;

&lt;h3 id=&quot;carrierwave-start-with-avatar-for-user&quot;&gt;Carrierwave start with avatar for user&lt;/h3&gt;

&lt;p&gt;After installed carrierwave in gemfile (with mini_magick gem too for image processing), starting with :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rails g uploader avatar
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;witch create &lt;em&gt;app/uploaders/avatar.rb&lt;/em&gt; with some change :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;kp&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;CarrierWave&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:MiniMagick&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;default_url&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;asset_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;default_user_avatar_huge.png&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;compact&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;version&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:small&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;process&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:resize_to_fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;extension_white_list&lt;/span&gt;
      &lt;span class=&quot;sx&quot;&gt;%w(jpg jpeg gif png)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Where &lt;em&gt;default_user_avatar_huge.png&lt;/em&gt; is a fallback avatar image in &lt;em&gt;assets/images&lt;/em&gt;. (with a small version 32x32 named &lt;em&gt;small_default_user_avatar_huge.png&lt;/em&gt;)&lt;/p&gt;

&lt;h3 id=&quot;activerecord-integration&quot;&gt;ActiveRecord integration&lt;/h3&gt;

&lt;p&gt;First add an &lt;code&gt;avatar&lt;/code&gt; string column to the user model, and migrate.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rake g migration AddAvatarToUsers avatar:string
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And ajust the &lt;em&gt;models/user.rb&lt;/em&gt; :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mount_uploader :avatar, AvatarUploader
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;validations-on-the-model&quot;&gt;Validations on the model&lt;/h3&gt;

&lt;p&gt;For the file size, check out the solution &lt;a href=&quot;https://github.com/jnicklas/carrierwave/wiki/How-to%3A-Validate-attachment-file-size&quot;&gt;https://github.com/jnicklas/carrierwave/wiki/How-to%3A-Validate-attachment-file-size&lt;/a&gt; and apply it in our model user :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;file_size_validator&amp;#39;&lt;/span&gt; 

    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;authenticates_with_sorcery!&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;ss&quot;&gt;:file_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:maximum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;megabytes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; 
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Also we validate the processing and the file type (see &lt;a href=&quot;https://github.com/jnicklas/carrierwave/wiki/How-to%3A-Validate-uploads-with-Active-Record&quot;&gt;https://github.com/jnicklas/carrierwave/wiki/How-to%3A-Validate-uploads-with-Active-Record&lt;/a&gt;) in &lt;em&gt;models/user.rb&lt;/em&gt; :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;validates_integrity_of :avatar
validates_processing_of :avatar
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And this is the full &lt;em&gt;config/locales/en.yml&lt;/em&gt; : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;yaml&quot;&gt;    &lt;span class=&quot;l-Scalar-Plain&quot;&gt;en&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l-Scalar-Plain&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l-Scalar-Plain&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;l-Scalar-Plain&quot;&gt;wrong_size&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;is&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;the&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;wrong&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;(should&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;%{file_size})&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;l-Scalar-Plain&quot;&gt;size_too_small&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;is&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;too&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;small&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;(should&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;least&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;%{file_size})&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;l-Scalar-Plain&quot;&gt;size_too_big&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;is&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;too&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;big&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;(should&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;at&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;most&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;%{file_size})&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;l-Scalar-Plain&quot;&gt;carrierwave_processing_error&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;failed&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;processed&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;l-Scalar-Plain&quot;&gt;carrierwave_integrity_error&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;is&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;allowed&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;type&amp;quot;&lt;/span&gt;    
          &lt;span class=&quot;l-Scalar-Plain&quot;&gt;carrierwave_download_error&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Couldn&amp;#39;t&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;download&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;image.&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and the &lt;em&gt;models/user.rb&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;mont_uploader&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AvatarUploader&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;ss&quot;&gt;:presence&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;ss&quot;&gt;:file_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:maximum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;megabytes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; 
      &lt;span class=&quot;n&quot;&gt;validates_integrity_of&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;validates_processing_of&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar&lt;/span&gt;   
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; 
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;user-views&quot;&gt;User Views&lt;/h3&gt;

&lt;p&gt;In the index view :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nt&quot;&gt;%td&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_tag&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avatar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;small&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In the form view : (the &lt;code&gt;remove_avatar&lt;/code&gt;and &lt;code&gt;avatar_cache&lt;/code&gt; are specials fields build by carrierwave for removing the avatar and keep a cache of uploaded image when the form is reloaded if some validation has failed).&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:file&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:remove_avatar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:boolean&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar_cache&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:hidden&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Add also those fields to the method &lt;code&gt;user_params&lt;/code&gt; in the &lt;em&gt;controllers/users_controller.rb&lt;/em&gt; &lt;/p&gt;

&lt;p&gt;In the show view :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_tag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avatar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;small&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;#modal_avatar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:role&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;button&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;data-toggle&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;modal&amp;#39;&lt;/span&gt;
    ...
    &lt;span class=&quot;nf&quot;&gt;#modal_avatar&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.modal.fade&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.modal-dialog&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;.modal-content&lt;/span&gt;
          &lt;span class=&quot;nc&quot;&gt;.modal-header&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;button_close_modal&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;%h4&lt;/span&gt; Image
          &lt;span class=&quot;nc&quot;&gt;.modal-body&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_tag&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avatar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;max-height: 400px;max-width: 400px;margin: 0 auto;display:block;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;img-thumbnail&amp;#39;&lt;/span&gt;
          &lt;span class=&quot;nc&quot;&gt;.modal-footer&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The modal dialog show the image in full size (CSS have to move…).&lt;/p&gt;

&lt;h3 id=&quot;bootstrap-3-and-jasny-fileupload&quot;&gt;Bootstrap 3 and Jasny FileUpload&lt;/h3&gt;

&lt;p&gt;I use a part of &lt;a href=&quot;http://jasny.github.io&quot;&gt;Jasny Bootstrap enhancement&lt;/a&gt; : go to &lt;a href=&quot;http://jasny.github.io/bootstrap/javascript.html#fileupload&quot;&gt;http://jasny.github.io/bootstrap/javascript.html#fileupload&lt;/a&gt;, click on the button ‘download’ and copy the .css and the .js files you just just get in the correspondent &lt;em&gt;/assets/&lt;/em&gt; folder.&lt;/p&gt;

&lt;p&gt;Now in the &lt;em&gt;\form.html.haml&lt;/em&gt; replace the &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:file&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;with&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;partial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;file_upload&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:locals&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and create the partial &lt;em&gt;app/views/users/_file_upload.html.haml&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nc&quot;&gt;.control-group.file.optional.user_avatar&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;%label&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.file.optional.control-label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;user_avatar&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; Avatar
      &lt;span class=&quot;nc&quot;&gt;.controls&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;.fileupload.fileupload-new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;data-provides&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fileupload&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;nc&quot;&gt;.fileupload-new.thumbnail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;width: 50px; height: 50px;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_tag&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;avatar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;small&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;
          &lt;span class=&quot;nc&quot;&gt;.fileupload-preview.fileupload-exists.thumbnail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;width: 50px; height: 50px;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%span&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.btn.btn-file.btn-primary&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;%span&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.fileupload-new&lt;/span&gt; Select image
            &lt;span class=&quot;nt&quot;&gt;%span&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.fileupload-exists&lt;/span&gt; Change
            &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:avatar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:file&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Remove&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;btn fileupload-exists&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;data-dismiss&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fileupload&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

</content> -->
 </entry>
 
 <entry>
   <title>Rails Trick & Tips : A gem pointing to a local git repository</title>
   <link href="http://traz.github.com/tips/2013/tips-local-gem_with-git"/>
   <updated>2013-04-16T00:00:00+11:00</updated>
   <id>http://traz.github.com/tips/2013/tips-local-gem_with-git</id>
<!--    <content type="html">&lt;h3 id=&quot;a-gem-pointing-to-a-local-git-repository&quot;&gt;A gem pointing to a local git repository&lt;/h3&gt;

&lt;p&gt;Take from &lt;a href=&quot;http://gembundler.com/v1.3/git.html&quot;&gt;http://gembundler.com/v1.3/git.html&lt;/a&gt;, ie here :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/laserlemon/vestal_versions.git
git checkout -b &#39;rails-4&#39;
bundle config local.vestal_versions /c/my_local_git_dir/vestal_versions/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and in &lt;em&gt;gemfile&lt;/em&gt; :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gem &#39;vestal_versions&#39;, :github =&amp;gt; &#39; laserlemon/vestal_versions&#39;, :branch =&amp;gt; &#39;rails-4&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can visualize the effective presence of the git branch with just a &lt;code&gt;bundle show&lt;/code&gt;&lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Jekyll twists : from rdiscount to kramdown</title>
   <link href="http://traz.github.com/post/2013/Jekyll-twists"/>
   <updated>2013-04-16T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Jekyll-twists</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#pygments-with-line-number&quot;&gt;Pygments with line number&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#hacking-jekyll--allow-multiple-line-highlight&quot;&gt;Hacking Jekyll : allow multiple line highlight&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#some-kramdown-config&quot;&gt;Some kramdown config&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#what-i-had-to-change-&quot;&gt;What I had to change :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sublime-text--table-editor&quot;&gt;Sublime Text : Table Editor&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;pygments-with-line-number&quot;&gt;Pygments with line number&lt;/h3&gt;

&lt;p&gt;Use pygments with options, &lt;code&gt;linenos&lt;/code&gt;, &lt;code&gt;hl_lines&lt;/code&gt;, … check the pygment &lt;a href=&quot;http://pygments.org/docs/formatters/&quot;&gt;pygment formatter options&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;% highlight ruby linenos=table hl_lines=7 %
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;But there a bug when you use the &lt;code&gt;table&lt;/code&gt; option with lineos, have to investigate …&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Project&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;User&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:foreign_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;owner_id&amp;#39;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;n&quot;&gt;authenticates_with_sorcery!&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;      
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;minimum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                   &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;uniqueness&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;   &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:projects&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:owners&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Project&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:foreign_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;owner_id&amp;#39;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;hacking-jekyll--allow-multiple-line-highlight&quot;&gt;Hacking Jekyll : allow multiple line highlight&lt;/h3&gt;
&lt;/blockquote&gt;

&lt;p&gt;In Jekyll files, change the regexp syntax for allowing passing multiple parameters :&lt;/p&gt;

&lt;p&gt;File &lt;em&gt;jekyll/lib/jekyll/tags/highlight.rb&lt;/em&gt; change from :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;        
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# The regular expression syntax checker. Start with the language specifier.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# Follow that by zero or more space separated options that take one of two&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# forms:&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 1. name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 2. name=value&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;no&quot;&gt;SYNTAX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^([a-zA-Z0-9.+#-]+)((\s+\w+(=\w+)?)*)$/&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# line 29 :&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;vi&quot;&gt;@options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;to :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;        
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# The regular expression syntax checker. Start with the language specifier.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# Follow that by zero or more space separated options that take one of two&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# forms:&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 1. name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#     linenos&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 2. name=value&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#     linenos=table linenostart=56&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# 3. name=value1,value2,value3 &lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;#     hl_lines=2,7 linenos linenostart=56&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;    &lt;span class=&quot;no&quot;&gt;SYNTAX&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^([a-zA-Z0-9.+#-]+)((\s+\w+(=\w+(,\w+)*)?)*)$/&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;# line 29 :&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;hll&quot;&gt;      &lt;span class=&quot;vi&quot;&gt;@options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt;     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;some-kramdown-config&quot;&gt;Some kramdown config&lt;/h3&gt;

&lt;p&gt;Change in &lt;em&gt;_config.yml&lt;/em&gt; :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;markdown: kramdown
...
kramdown:
  auto_ids: true
  footnote_nr: 1
  entity_output: as_char
  toc_levels: 1..6
  use_coderay: false
  parse_block_html: true
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;what-i-had-to-change-&quot;&gt;What I had to change :&lt;/h3&gt;

&lt;p&gt;The Table of Content work easily with just : (and with some css adjustment)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;* toc
{:toc} 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And use of some inline attributes like :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;This is *red*{: style=&quot;color: red&quot;}.

**This is a test**
{: style=&quot;text-align: center&quot;}

Title
===
{: .big .thin}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And for some pages, I had to declare inner markdown usage in html block ie :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{::options parse_block_html=&quot;true&quot; /}
&amp;lt;div&amp;gt;
  test **test**
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nota : some ordered list doesn’t seems to work :&lt;/p&gt;

&lt;p&gt;I. one
II. two
III. three    &lt;/p&gt;

&lt;p&gt;a. aa
b. bb
c. cc&lt;/p&gt;

&lt;h3 id=&quot;sublime-text--table-editor&quot;&gt;Sublime Text : Table Editor&lt;/h3&gt;

&lt;p&gt;A very good plugin for ST2 : &lt;a href=&quot;https://github.com/vkocubinsky/SublimeTableEditor&quot;&gt;https://github.com/vkocubinsky/SublimeTableEditor&lt;/a&gt;, work well with kramdown.&lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Rails Trick & Tips : Rails delegate</title>
   <link href="http://traz.github.com/tips/2013/tips-rails-delegate"/>
   <updated>2013-04-15T00:00:00+11:00</updated>
   <id>http://traz.github.com/tips/2013/tips-rails-delegate</id>
<!--    <content type="html">&lt;h3 id=&quot;rails-delegate&quot;&gt;Rails delegate&lt;/h3&gt;

&lt;p&gt;So checkout this page : &lt;a href=&quot;http://devblog.avdi.org/2011/07/05/demeter-its-not-just-a-good-idea-its-the-law/&quot;&gt;http://devblog.avdi.org/2011/07/05/demeter-its-not-just-a-good-idea-its-the-law/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here, adding some delegate to the user class : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Project&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;User&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:foreign_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;owner_id&amp;#39;&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;delegate&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:allow_nil&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;delegate&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:allow_nil&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And now in the &lt;em&gt;show.html.haml&lt;/em&gt; , we can use (with possibly null value) :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  %p= @project.owner_username
  %p= @project.author_usermane
&lt;/code&gt;&lt;/pre&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Rails Trick & Tips : Auto hide Rails flash messages</title>
   <link href="http://traz.github.com/tips/2013/tips-modal-effect"/>
   <updated>2013-04-15T00:00:00+11:00</updated>
   <id>http://traz.github.com/tips/2013/tips-modal-effect</id>
<!--    <content type="html">&lt;h3 id=&quot;auto-hide-rails-flash-messages&quot;&gt;Auto hide Rails flash messages&lt;/h3&gt;

&lt;p&gt;Just drop this coffee script in your &lt;em&gt;assets/javascript&lt;/em&gt; folder (look at &lt;a href=&quot;http://reinteractive.net/posts/13-ui-tips-for-flash-messages-in-rails&quot;&gt;http://reinteractive.net/posts/13-ui-tips-for-flash-messages-in-rails&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;coffeescript&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;-&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;flashCallback = &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;-&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.alert&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fadeOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.alert&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;click&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;(ev) =&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.alert&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fadeOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;setTimeout&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;flashCallback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3000&lt;/span&gt;
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Rails Trick & Tips : A modal destroy confirmation</title>
   <link href="http://traz.github.com/tips/2013/tips-modal-destroy-confirmation"/>
   <updated>2013-04-15T00:00:00+11:00</updated>
   <id>http://traz.github.com/tips/2013/tips-modal-destroy-confirmation</id>
<!--    <content type="html">&lt;h3 id=&quot;a-modal-destroy-confirmation&quot;&gt;A modal destroy confirmation&lt;/h3&gt;

&lt;p&gt;And at the end of this day, a short tips come from here &lt;a href=&quot;https://gist.github.com/postpostmodern/1862479&quot;&gt;https://gist.github.com/postpostmodern/1862479&lt;/a&gt;, just drop the file in your assets javascript folder with this modification for bootstrap 3 :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;coffeescript&quot;&gt;    &lt;span class=&quot;c1&quot;&gt;# Override Rails handling of confirmation&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$.rails.allowAction = &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;(element) -&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# The message is something like &amp;quot;Are you sure?&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;message = &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;confirm&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# If there&amp;#39;s no message, there&amp;#39;s no data-confirm attribute, &lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# which means there&amp;#39;s nothing to confirm&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Clone the clicked element (probably a delete link) so we can use it in the dialog box.&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;$link = &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# We don&amp;#39;t necessarily want the same styling as the original link/button.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;class&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# We don&amp;#39;t want to pop up another confirmation (recursion)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;data-confirm&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# We want a button&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;btn&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;btn-danger&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# We want it to sound confirmy&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Yes, I&amp;#39;m positively certain.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

      &lt;span class=&quot;c1&quot;&gt;# Create the modal box with the message&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;modal_html = &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                    &amp;lt;div class=&amp;quot;modal fade&amp;quot; id=&amp;quot;myModal&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                      &amp;lt;div class=&amp;quot;modal-dialog&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                        &amp;lt;div class=&amp;quot;modal-content&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;div class=&amp;quot;modal-header&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                            &amp;lt;button type=&amp;quot;button&amp;quot; class=&amp;quot;close&amp;quot; data-dismiss=&amp;quot;modal&amp;quot; aria-hidden=&amp;quot;true&amp;quot;&amp;gt;&amp;amp;times;&amp;lt;/button&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                            &amp;lt;h3&amp;gt;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;/h3&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;div class=&amp;quot;modal-body&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                            &amp;lt;p&amp;gt;Be certain, sonny.&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;div class=&amp;quot;modal-footer&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                            &amp;lt;a data-dismiss=&amp;quot;modal&amp;quot; class=&amp;quot;btn&amp;quot;&amp;gt;Cancel&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                        &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                      &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                    &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                   &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;$modal_html = &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;modal_html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Add the new button to the modal box&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$modal_html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;.modal-footer&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Pop it up&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$modal_html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;modal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Prevent the original link from working&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;

      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Rails Trick & Tips : Hirb config for Rails Console</title>
   <link href="http://traz.github.com/tips/2013/tips-hirb"/>
   <updated>2013-04-15T00:00:00+11:00</updated>
   <id>http://traz.github.com/tips/2013/tips-hirb</id>
<!--    <content type="html">&lt;h3 id=&quot;got-a-warning-&quot;&gt;Got a Warning ?&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;Hirb Warning: Too many fields for the current width... 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So just create a &lt;em&gt;config/hirb.yml&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;yaml&quot;&gt;    &lt;span class=&quot;l-Scalar-Plain&quot;&gt;:output&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l-Scalar-Plain&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l-Scalar-Plain&quot;&gt;:options&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;l-Scalar-Plain&quot;&gt;:fields&lt;/span&gt;&lt;span class=&quot;p-Indicator&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;id&lt;/span&gt;
            &lt;span class=&quot;p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;username&lt;/span&gt;
            &lt;span class=&quot;p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;email&lt;/span&gt;
            &lt;span class=&quot;p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l-Scalar-Plain&quot;&gt;active&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;source--informations&quot;&gt;Source &amp;amp; Informations&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/plataformatec/simple_form&quot;&gt;https://github.com/plataformatec/simple_form&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://simple-form-bootstrap.plataformatec.com.br/&quot;&gt;http://simple-form-bootstrap.plataformatec.com.br/&lt;/a&gt; detailed example&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;http://shapeshed.com/easing_rails_development_with_hirb&quot;&gt;http://shapeshed.com/easing_rails_development_with_hirb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://tagaholic.me/2009/03/13/hirb-irb-on-the-good-stuff.html&quot;&gt;http://tagaholic.me/2009/03/13/hirb-irb-on-the-good-stuff.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/cldwalker/hirb&quot;&gt;https://github.com/cldwalker/hirb&lt;/a&gt; &lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Rails Trick & Tips : Change console Charset for Jekyll</title>
   <link href="http://traz.github.com/tips/2013/tips-charset-jekyll"/>
   <updated>2013-04-15T00:00:00+11:00</updated>
   <id>http://traz.github.com/tips/2013/tips-charset-jekyll</id>
<!--    <content type="html">&lt;h3 id=&quot;cp850-error--co&quot;&gt;CP850 error &amp;amp; Co&lt;/h3&gt;

&lt;p&gt;if you’ve got some CP850 error from Liquid under windows, launch a DOS prompt, tape &lt;code&gt;chcp 65001&lt;/code&gt; then launch your bash shell &lt;code&gt;sh -l -i&lt;/code&gt; and launch the jekyll server after.&lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Starting a new Rails 4 : V. Builing some quick versionned wiki pages</title>
   <link href="http://traz.github.com/post/2013/V-Starting-a-project-manager"/>
   <updated>2013-04-13T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/V-Starting-a-project-manager</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#roadmap&quot;&gt;Roadmap&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creating-the-project-model&quot;&gt;Creating the Project model&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#some-views-adjustment--the-demeter-way&quot;&gt;Some views adjustment : The Demeter Way&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#tip--rails-delegate&quot;&gt;TIP : Rails delegate&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#wiki-pages&quot;&gt;Wiki pages&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#wiki-editor&quot;&gt;Wiki Editor&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#simple-dirty-wikiwords&quot;&gt;Simple (dirty) WikiWords&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#versioning--papertrail-or-vestalversions-&quot;&gt;Versioning : PaperTrail or Vestal_versions …&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#tip--a-gem-pointing-to-a-local-git-repository&quot;&gt;TIP : a gem pointing to a local git repository&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#vestalversion--installation-and-usage&quot;&gt;Vestal_version : installation and usage&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#link-to-a-project&quot;&gt;Link to a project&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;roadmap&quot;&gt;Roadmap&lt;/h3&gt;

&lt;p&gt;So let start a project manager, and make a short TODO List :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;create a basic structure project M/V/C&lt;/li&gt;
  &lt;li&gt;create Wiki structure
    &lt;ul&gt;
      &lt;li&gt;versionning / history / WikiLinks / linking to project&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;a file manager / uploader with versionning, per project ?&lt;/li&gt;
  &lt;li&gt;How to manage rights for users&lt;/li&gt;
  &lt;li&gt;Activity feed&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;creating-the-project-model&quot;&gt;Creating the Project model&lt;/h3&gt;

&lt;p&gt;Classical :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rails g scaffold projects name:string description:text date_create:date owner:references user:references status:string --no-stylesheets

rake db:migrate
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the models :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Project&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;User&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:foreign_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;owner_id&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;authenticates_with_sorcery!&lt;/span&gt;
     
      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;minimum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                   &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;uniqueness&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;   &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:projects&lt;/span&gt; 
      &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:owners&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Project&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:foreign_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;owner_id&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;some-views-adjustment--the-demeter-way&quot;&gt;Some views adjustment : The Demeter Way&lt;/h3&gt;

&lt;p&gt;Same things already used by the users view (paginate, simple_form, … ) It’s not DRY for the moment but there some solution with generators for later notes :)&lt;/p&gt;

&lt;p&gt;One interesting thing : in index view I want to show the owner name &lt;code&gt;%td= project.owner.username&lt;/code&gt;, but it may be null some time. The easy way : &lt;code&gt;%td= project.owner.try(:username)&lt;/code&gt; … Dirty somewhere no ?&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;tip--rails-delegate&quot;&gt;TIP : Rails delegate&lt;/h3&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;This will become a table of contents (this text will be scraped).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;So checkout this page : &lt;a href=&quot;http://devblog.avdi.org/2011/07/05/demeter-its-not-just-a-good-idea-its-the-law/&quot;&gt;http://devblog.avdi.org/2011/07/05/demeter-its-not-just-a-good-idea-its-the-law/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here, adding some delegate to the user class : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Project&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;User&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:foreign_key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;owner_id&amp;#39;&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;delegate&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:allow_nil&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;delegate&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:allow_nil&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And now in the &lt;em&gt;show.html.haml&lt;/em&gt; , we can use (with possibly null value) :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  %p= @project.owner_username
  %p= @project.author_usermane
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;wiki-pages&quot;&gt;Wiki pages&lt;/h3&gt;

&lt;p&gt;Build the scaffold :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rails g scaffold wiki name:string content:text owner:references author:references status:string --no-stylesheets
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As usual, adapt the view, the model and the controller … (check the source).&lt;/p&gt;

&lt;h3 id=&quot;wiki-editor&quot;&gt;Wiki Editor&lt;/h3&gt;

&lt;p&gt;WYSIWYG HTML5 editor becomes usual over markup editor … Will check one in the future, but for now, I choose using &lt;a href=&quot;https://github.com/bhollis/maruku&quot;&gt;Maruku&lt;/a&gt;.  &lt;/p&gt;

&lt;h3 id=&quot;simple-dirty-wikiwords&quot;&gt;Simple (dirty) WikiWords&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;WikisHelper&lt;/span&gt;

      &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;wiki_style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blank?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Maruku&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wiki_words&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_html&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

      &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;wiki_words&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/(\[\[.*?\]\])/&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/([A-Z]+|[A-Z][a-z])/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;exist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Wiki&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;take&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exist&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blank?&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&amp;quot;[&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; ?](/wikis/new)&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&amp;quot;[&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;](/wikis/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exist&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&amp;quot;&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and call it in view by &lt;code&gt;= raw wiki_style @wiki.content&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;versioning--papertrail-or-vestalversions-&quot;&gt;Versioning : PaperTrail or Vestal_versions …&lt;/h3&gt;

&lt;p&gt;I choose &lt;a href=&quot;https://github.com/laserlemon/vestal_versions&quot;&gt;Vestal_versions&lt;/a&gt;, but both gems aren’t ready for Rails 4.&lt;/p&gt;

&lt;p&gt;So clone the Github, checkout a new branch, and let’s work on it, with a little tips :&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;tip--a-gem-pointing-to-a-local-git-repository&quot;&gt;TIP : a gem pointing to a local git repository&lt;/h3&gt;
&lt;/blockquote&gt;

&lt;p&gt;Take from &lt;a href=&quot;http://gembundler.com/v1.3/git.html&quot;&gt;http://gembundler.com/v1.3/git.html&lt;/a&gt;, ie here :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/laserlemon/vestal_versions.git
git checkout -b &#39;rails-4&#39;
bundle config local.vestal_versions /c/my_local_git_dir/vestal_versions/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and in &lt;em&gt;gemfile&lt;/em&gt; :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gem &#39;vestal_versions&#39;, :github =&amp;gt; &#39; laserlemon/vestal_versions&#39;, :branch =&amp;gt; &#39;rails-4&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can visualize the presence of the git branch with just a &lt;code&gt;bundle show&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;vestalversion--installation-and-usage&quot;&gt;Vestal_version : installation and usage&lt;/h3&gt;

&lt;p&gt;First, in your local git branch of vestal, remove all the gems dependencies you can find (and check the result with &lt;code&gt;bundle check&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Run the migration generator :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rails g vestal_versions:migration
rails db:migrate
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add the declaration to the model  &lt;em&gt;models/wiki.rb&lt;/em&gt; : &lt;code&gt;versioned&lt;/code&gt;. Now have to track incompatibility with Rails 4 …&lt;/p&gt;

&lt;p&gt;For the views, I used &lt;a href=&quot;http://asciicasts.com/episodes/177-model-versioning&quot;&gt;http://asciicasts.com/episodes/177-model-versioning&lt;/a&gt; : &lt;em&gt;views/wikis/show.html.haml&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    ...
    &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@wiki&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;versions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:version&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    ...
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and in the controller :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;show&lt;/span&gt;
      &lt;span class=&quot;vi&quot;&gt;@wiki&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;revert_to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;link-to-a-project&quot;&gt;Link to a project&lt;/h3&gt;

&lt;p&gt;I’ve put for the moment a quick link to a wiki page created when a new project is created.&lt;/p&gt;

</content> -->
 </entry>
 
 <entry>
   <title>Starting a new Rails 4 : IV. Build an interface</title>
   <link href="http://traz.github.com/post/2013/IV-Menu-and-tools"/>
   <updated>2013-04-11T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/IV-Menu-and-tools</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#implementing-the-bootstrap-menu&quot;&gt;Implementing the bootstrap menu&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#table-and-labels&quot;&gt;Table and labels&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#refactoring-view&quot;&gt;Refactoring view&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#pagination-with-kaminari&quot;&gt;Pagination with Kaminari&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#tip--ssl-certificate-error&quot;&gt;TIP : SSL Certificate error&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#kaminari-config--views&quot;&gt;Kaminari config &amp;amp; views&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#tip--a-modal-destroy-confirmation&quot;&gt;TIP : A modal destroy confirmation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;implementing-the-bootstrap-menu&quot;&gt;Implementing the bootstrap menu&lt;/h3&gt;

&lt;p&gt;First create another layout : for the moment we use the &lt;em&gt;view/layouts/application.html.haml&lt;/em&gt; copy it to &lt;em&gt;home.html.haml&lt;/em&gt;, so we’ve got a different layout for the home page and the rest of the app.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;application.html.haml&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;      &lt;span class=&quot;nt&quot;&gt;%body&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;shared/navbar&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;.container&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;shared/flash_message&amp;#39;&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And create the &lt;em&gt;views/shared/_navbar.html.haml&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nc&quot;&gt;.navbar.navbar-static-top&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.container&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Four&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;#&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;navbar-brand&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;%ul&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.nav&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.dropdown&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;dropdown-toggle&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;data-toggle&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;dropdown&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
              User
              &lt;span class=&quot;nt&quot;&gt;%b&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.caret&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;%ul&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.dropdown-menu&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;list&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;#&amp;#39;&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;#&amp;#39;&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.divider&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.nav-header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Users&amp;quot;&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;list&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;%ul&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.nav.pull-right&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;about_path&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;glyphicon glyphicon-search&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.dropdown&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;data-toggle&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;dropdown&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;btn dropdown-toggle&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;glyphicon glyphicon-user&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%b&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.caret&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;%ul&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.dropdown-menu&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Logout&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;logout_path&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Profile&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;current_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.divider&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%li&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Change password&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;It’s done :)&lt;/p&gt;

&lt;h3 id=&quot;table-and-labels&quot;&gt;Table and labels&lt;/h3&gt;

&lt;p&gt;Just modify &lt;code&gt;%table.table.table-condensed&lt;/code&gt; in &lt;em&gt;views/users/index.html.haml&lt;/em&gt; for a better look.&lt;/p&gt;

&lt;p&gt;And replace the &lt;code&gt;%td= user.active&lt;/code&gt; by :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nt&quot;&gt;%td&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;active&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;%span&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.label.label-warning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Not active&amp;quot;&lt;/span&gt; 
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;for a label test.&lt;/p&gt;

&lt;h3 id=&quot;refactoring-view&quot;&gt;Refactoring view&lt;/h3&gt;

&lt;p&gt;There a lot of solution for a standard view (even some gem), use some tags like table, p, dl/dt/dd … For the moment I choose the easiest : p, with some helper for proper rending of a blank element.&lt;/p&gt;

&lt;p&gt;In &lt;em&gt;application\helper.rb&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;nbsp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blank?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;amp;nbsp;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And my view &lt;em&gt;users/show.haml.haml&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nt&quot;&gt;%h1&lt;/span&gt; User Detail

    &lt;span class=&quot;nc&quot;&gt;.row.well&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.col-span-3&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;%div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;text-align:right;list-style-type:none;font-weight:bold;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt; Username :
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt; Lastname :
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt; Identity :
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt; Email :
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt; Birthdate :
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt; Active :
      &lt;span class=&quot;nc&quot;&gt;.col-span-8&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;%div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;list-style-type:none;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; 
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nbsp&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lastname&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nbsp&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;identity&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nbsp&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;birthdate&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;active&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%span&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.label.label-warning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Not active&amp;quot;&lt;/span&gt; 
            &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%span&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.label.label-success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Active&amp;quot;&lt;/span&gt; 


    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Edit&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;edit_user_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    \|
    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Back&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;pagination-with-kaminari&quot;&gt;Pagination with Kaminari&lt;/h3&gt;

&lt;p&gt;Ok, lets build some fakes users for the list view.&lt;/p&gt;

&lt;p&gt;First install &lt;strong&gt;kaminari&lt;/strong&gt; (there other like will_paginate who work well also) : &lt;code&gt;gem i kaminari&lt;/code&gt; and declare it in the &lt;em&gt;gemfile&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Generate the configuration file &lt;code&gt;rails g kaminari:config&lt;/code&gt; and &lt;code&gt;rails g kaminari:views bootstrap&lt;/code&gt; … If you’re starting with Ruby, you may have a strange SSL error …&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;tip--ssl-certificate-error&quot;&gt;TIP : SSL Certificate error&lt;/h3&gt;
&lt;/blockquote&gt;

&lt;p&gt;The solution : &lt;a href=&quot;https://gist.github.com/fnichol/867550&quot;&gt;https://gist.github.com/fnichol/867550&lt;/a&gt; follow the instruction (copy the certificate file, declare an enviroment variable), and it’s work :) Thanks !!&lt;/p&gt;

&lt;h3 id=&quot;kaminari-config--views&quot;&gt;Kaminari config &amp;amp; views&lt;/h3&gt;

&lt;p&gt;So now we have the config file &lt;em&gt;config/initializers/kaminari_config.rb&lt;/em&gt; to change the whole pagination configuration if you want. And the views files in &lt;em&gt;app/views/kaminari&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Just for adapt to bootstrap pagination, change &lt;em&gt;apps/views/kaminari/_paginator.html.haml&lt;/em&gt; from :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paginator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.pagination&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;%ul&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;to &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paginator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;%ul&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.pagination&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
     
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Add a &lt;code&gt;= paginate @users&lt;/code&gt; in your view file and modify the controller methods with &lt;code&gt;@users = User.all.page(params[:page]).per(2)&lt;/code&gt; (the per(2) is for testing purpose, drop it after).&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;tip--a-modal-destroy-confirmation&quot;&gt;TIP : A modal destroy confirmation&lt;/h3&gt;
&lt;/blockquote&gt;

&lt;p&gt;And at the end of this day, a short tips come from here &lt;a href=&quot;https://gist.github.com/postpostmodern/1862479&quot;&gt;https://gist.github.com/postpostmodern/1862479&lt;/a&gt;, just drop the file in your assets javascript folder with this modification for bootstrap 3 :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;coffeescript&quot;&gt;    &lt;span class=&quot;c1&quot;&gt;# Override Rails handling of confirmation&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$.rails.allowAction = &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;(element) -&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# The message is something like &amp;quot;Are you sure?&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;message = &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;confirm&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# If there&amp;#39;s no message, there&amp;#39;s no data-confirm attribute, &lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# which means there&amp;#39;s nothing to confirm&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Clone the clicked element (probably a delete link) so we can use it in the dialog box.&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;$link = &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;element&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# We don&amp;#39;t necessarily want the same styling as the original link/button.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;class&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# We don&amp;#39;t want to pop up another confirmation (recursion)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;removeAttr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;data-confirm&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# We want a button&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;btn&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addClass&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;btn-danger&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# We want it to sound confirmy&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Yes, I&amp;#39;m positively certain.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

      &lt;span class=&quot;c1&quot;&gt;# Create the modal box with the message&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;modal_html = &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                    &amp;lt;div class=&amp;quot;modal fade&amp;quot; id=&amp;quot;myModal&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                      &amp;lt;div class=&amp;quot;modal-dialog&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                        &amp;lt;div class=&amp;quot;modal-content&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;div class=&amp;quot;modal-header&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                            &amp;lt;button type=&amp;quot;button&amp;quot; class=&amp;quot;close&amp;quot; data-dismiss=&amp;quot;modal&amp;quot; aria-hidden=&amp;quot;true&amp;quot;&amp;gt;&amp;amp;times;&amp;lt;/button&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                            &amp;lt;h3&amp;gt;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;lt;/h3&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;div class=&amp;quot;modal-body&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                            &amp;lt;p&amp;gt;Be certain, sonny.&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;div class=&amp;quot;modal-footer&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                            &amp;lt;a data-dismiss=&amp;quot;modal&amp;quot; class=&amp;quot;btn&amp;quot;&amp;gt;Cancel&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                          &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                        &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                      &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                    &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                   &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;$modal_html = &lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;modal_html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Add the new button to the modal box&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$modal_html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;.modal-footer&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Pop it up&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$modal_html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;modal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Prevent the original link from working&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;

      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Starting a new Rails 4 : III. a date picker</title>
   <link href="http://traz.github.com/post/2013/III-A-datepicker-for-BS3"/>
   <updated>2013-04-10T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/III-A-datepicker-for-BS3</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#seeking-a-bs3-date-picker-&quot;&gt;Seeking a BS3 date picker …&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install&quot;&gt;Install&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#usage&quot;&gt;Usage&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;seeking-a-bs3-date-picker-&quot;&gt;Seeking a BS3 date picker …&lt;/h3&gt;

&lt;p&gt;There a library for bootstrap 2 (&lt;a href=&quot;https://github.com/eternicode/bootstrap-datepicker&quot;&gt;https://github.com/eternicode/bootstrap-datepicker&lt;/a&gt;) but she’s not ready for bootstrap 3 … So I found a fork here : &lt;a href=&quot;https://github.com/ianserlin/bootstrap-datepicker/tree/3.x&quot;&gt;https://github.com/ianserlin/bootstrap-datepicker/tree/3.x&lt;/a&gt; and use it until the standard library will update. &lt;/p&gt;

&lt;h3 id=&quot;install&quot;&gt;Install&lt;/h3&gt;

&lt;p&gt;Just copy the CSS file and the JS file to you &lt;em&gt;assets&lt;/em&gt; rails directory.&lt;/p&gt;

&lt;h3 id=&quot;usage&quot;&gt;Usage&lt;/h3&gt;

&lt;p&gt;Two step : declare the class for the date picker, and place the javascript call. In &lt;em&gt;view/users/_form.html.haml&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simple_form_for&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;well form-horizontal&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error_notification&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:lastname&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:identity&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:birthdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:input_html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;datepicker col-span-3&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;  
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:active&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.form-actions&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submit&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Update&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;btn btn-primary&amp;quot;&lt;/span&gt; 
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;submit_tag&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Cancel&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:reset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;btn btn-danger&amp;quot;&lt;/span&gt; 

    &lt;span class=&quot;nd&quot;&gt;:javascript&lt;/span&gt;
      &lt;span class=&quot;nd&quot;&gt;$(&amp;#39;.datepicker&amp;#39;).datepicker({&lt;/span&gt;
          &lt;span class=&quot;nd&quot;&gt;format: &amp;quot;yyyy-mm-dd&amp;quot;,&lt;/span&gt;
          &lt;span class=&quot;nd&quot;&gt;todayHighlight: true,&lt;/span&gt;
          &lt;span class=&quot;nd&quot;&gt;todayBtn: &amp;#39;linked&amp;#39;,&lt;/span&gt;
          &lt;span class=&quot;nd&quot;&gt;autoclose: true&lt;/span&gt;
      &lt;span class=&quot;nd&quot;&gt;}); ;&lt;/span&gt;

    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note that the date format must match the database date format. Check the documentation for the options.&lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Starting a new Rails 4 : II. Forms with Simple_form</title>
   <link href="http://traz.github.com/post/2013/II-Simple_form"/>
   <updated>2013-04-08T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/II-Simple_form</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#some-documentation&quot;&gt;Some documentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#setup&quot;&gt;Setup&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#usage&quot;&gt;Usage&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;some-documentation&quot;&gt;Some documentation&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/plataformatec/simple_form&quot;&gt;https://github.com/plataformatec/simple_form&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://simple-form-bootstrap.plataformatec.com.br/&quot;&gt;http://simple-form-bootstrap.plataformatec.com.br/&lt;/a&gt; detailed example&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;setup&quot;&gt;Setup&lt;/h3&gt;

&lt;p&gt;For Rails 4 you’ll need the prerelease, so &lt;code&gt;gem i simple_form --pre&lt;/code&gt;, put it in gemfile and install it (with bootstrap structure) : &lt;code&gt;rails g simple_form:install --bootstrap&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;usage&quot;&gt;Usage&lt;/h3&gt;

&lt;p&gt;This is the new login form from the welcome page (look at the part I)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simple_form_for&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:sessions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessions_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;well form-horizontal&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;%div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;pading:30px;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;button_close_modal&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;%br&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:style&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;margin:50px 0px;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;.col-span-4&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;%h2&lt;/span&gt; Login
        &lt;span class=&quot;nc&quot;&gt;.col-span-4&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error_notification&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;.col-span-4&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submit&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Login&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;btn btn-success btn-large&amp;#39;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;As usual, later refactoring is need for semantic css …&lt;/p&gt;

&lt;p&gt;The close button &lt;code&gt;= button_close_modal&lt;/code&gt; is done this time with an helper method in &lt;em&gt;application_helper.rb&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;      &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;button_close_modal&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;content_tag&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;button&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;amp;times;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;data-dismiss&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;modal&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;s1&quot;&gt;&amp;#39;aria-hidden&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;true&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&amp;quot;right:0px;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;button&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;close&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Further note when I’ll found something interesting ; but the documentation is up to date and every thing work well for the moment :)&lt;/p&gt;

&lt;p&gt;Next step may be a date picker :)&lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Starting a new Rails 4 : I. Authentication with Sorcery.</title>
   <link href="http://traz.github.com/post/2013/I-Rails-basic-form-and-authentication"/>
   <updated>2013-04-07T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/I-Rails-basic-form-and-authentication</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#skeleton-already-in-place-gemfile&quot;&gt;Skeleton already in place :Gemfile&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#custom-configuration-file-&quot;&gt;Custom configuration file :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creating-some-pages-&quot;&gt;Creating some pages :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#scaffolding-a-user-model-&quot;&gt;Scaffolding a User model :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#authentication-with-sorcery&quot;&gt;Authentication with Sorcery&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sorcery-configuration&quot;&gt;Sorcery Configuration&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#basic-workflow&quot;&gt;Basic workflow&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#welcome-page&quot;&gt;Welcome Page&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#control-the-access&quot;&gt;Control the access&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#managing-sessions&quot;&gt;Managing sessions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#build-our-login-form-&quot;&gt;Build our login form :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#flash-messages&quot;&gt;Flash messages&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#tip--auto-hide-rails-flash-messages&quot;&gt;TIP : Auto hide Rails flash messages&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sign-up&quot;&gt;Sign up&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#refactoring-&quot;&gt;Refactoring !!!&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#mmo-for-sorcery&quot;&gt;Mémo for sorcery&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;skeleton-already-in-place-gemfile&quot;&gt;Skeleton already in place :Gemfile&lt;/h3&gt;

&lt;p&gt;So I got&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;bootsrap 3 installed&lt;/li&gt;
  &lt;li&gt;a custom less configuration file (&lt;em&gt;assests/less/main-custom.less&lt;/em&gt;)&lt;/li&gt;
  &lt;li&gt;some basics gem in &lt;em&gt;gemfile&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;      &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;rails&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;4.0.0.beta1&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sqlite3&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;thin&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;haml-rails&amp;#39;&lt;/span&gt; 

      &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:development&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;pry-rails&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;looksee&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;awesome_print&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;hirb&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:assets&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sass-rails&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;   &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;gt; 4.0.0.beta1&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;coffee-rails&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;gt; 4.0.0.beta1&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;uglifier&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;= 1.0.3&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;jquery-rails&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;turbolinks&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;jbuilder&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;gt; 1.0.1&amp;#39;&lt;/span&gt;
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Just add &lt;code&gt;gem &#39;sorcery&#39;&lt;/code&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Memo :&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;
      &lt;p&gt;&lt;a href=&quot;http://code.macournoyer.com/thin/&quot;&gt;Thin&lt;/a&gt; is a better web server than the Webrick (default in Rails), and it work well with &lt;a href=&quot;http://nginx.org/&quot;&gt;Nginx&lt;/a&gt;, even on windows.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;&lt;a href=&quot;https://github.com/indirect/haml-rails&quot;&gt;haml-rails&lt;/a&gt; integrate Haml with Rails, and got some easily customizable templates.&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;&lt;a href=&quot;https://github.com/rweng/pry-rails&quot;&gt;pry-rails&lt;/a&gt; integrate pry in replacement of irb in Rails console&lt;/p&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;p&gt;looksee, awesome_print and hirb are just some irb / pry helpers.&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nota : don’t use the standard &lt;code&gt;bundle install&lt;/code&gt; on windows, but &lt;code&gt;bundle install --local&lt;/code&gt; because some gem are specifically build from a Git source and not already pack in a gem. In example : SQlite3 for Ruby 2 …&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;custom-configuration-file-&quot;&gt;Custom configuration file :&lt;/h3&gt;

&lt;p&gt;One thing I keep from old Rails version : the migration numeration … So&lt;/p&gt;

&lt;p&gt;in &lt;em&gt;config/application.rb&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;config.active_record.timestamped_migrations = false
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;creating-some-pages-&quot;&gt;Creating some pages :&lt;/h3&gt;

&lt;p&gt;For testing purpose, I want a home page, an about and a test page :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rails g controller home about index test
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Change our routes to fit them :&lt;/p&gt;

&lt;p&gt;&lt;em&gt;config/routes.rb&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;root :to      =&amp;gt; &#39;home#index&#39;

get &quot;login&quot;   =&amp;gt; &quot;sessions#new&quot;,        :as =&amp;gt; &quot;login&quot;
get &quot;logout&quot;  =&amp;gt; &quot;sessions#destroy&quot;,    :as =&amp;gt; &quot;logout&quot;
get &quot;signup&quot;  =&amp;gt; &quot;users#new&quot;,           :as =&amp;gt; &quot;signup&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;scaffolding-a-user-model-&quot;&gt;Scaffolding a User model :&lt;/h3&gt;

&lt;p&gt;Simply :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rails g scaffold user username:string lastname:string birthdate:date email:string active:boolean --no-stylesheets
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The –no-stylesheets is for not generating a scaffold.css file, witch overwrite bootstrap css …&lt;/p&gt;

&lt;h3 id=&quot;authentication-with-sorcery&quot;&gt;Authentication with Sorcery&lt;/h3&gt;

&lt;p&gt;For starting, I want a simple and robust authentication, there’re many choices, I had take Sorcery because it’s simplicity.&lt;/p&gt;

&lt;p&gt;Some documentations :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/NoamB/sorcery&quot;&gt;https://github.com/NoamB/sorcery&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://asciicasts.com/episodes/283-authentication-with-sorcery&quot;&gt;http://asciicasts.com/episodes/283-authentication-with-sorcery&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/tagged/sorcery&quot;&gt;http://stackoverflow.com/questions/tagged/sorcery&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nota 1 : for Rails 4 you have to use the master branch&lt;/p&gt;

  &lt;pre&gt;&lt;code&gt;  git clone https://github.com/NoamB/sorcery.git
  gem build ./sorcery.gemspec
  gem uni sorcery
  gem i ./sorcery-0.8.1.gem
&lt;/code&gt;&lt;/pre&gt;

  &lt;p&gt;Nota 2 : if you got some errors about bcrypt, just recompile it :&lt;/p&gt;

  &lt;pre&gt;&lt;code&gt;  gem uni bcrypt-ruby
  gem i bcrypt-ruby --platform=ruby
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;p&gt;So let’s start a new Git branch &lt;code&gt;git br -b sorcery&lt;/code&gt; and install it (with all the modules here for testing, I use only the core and will implement the others after ) :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rails g sorcery:install # some help
rails g sorcery:install http_basic_auth external remember_me reset_password activity_logging brute_force_protection user_activation session_timeout 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Arrange your migration file (I drop all sorcery migration about user model in just one &lt;a href=&quot;https://gist.github.com/Traz/5335846&quot;&gt;gist&lt;/a&gt; ) if you want and :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rake db:create
rake db:migrate
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;sorcery-configuration&quot;&gt;Sorcery Configuration&lt;/h3&gt;

&lt;p&gt;Check options in &lt;em&gt;config/initializers/sorcery.rb&lt;/em&gt; Each module (remember me, etc …) have to be specified here. Starting with just the core module, I’ll add the others after.
I put only this one and keep other default config :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username_attribute_names&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sorcery&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submodules&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:http_basic_auth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We have to declare also the user model as authenticate model in &lt;em&gt;model/user.rb&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;authenticates_with_sorcery!&lt;/span&gt;
     
      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;minimum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                   &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;uniqueness&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;   &lt;span class=&quot;ss&quot;&gt;presence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then create a user in the Rails console :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;MyName&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;my@email.com&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;password&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;basic-workflow&quot;&gt;Basic workflow&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;Welcome page (home#index)
  └──&amp;gt;  sign in ────────────────&amp;gt; session#new ──────&amp;gt; logged page
  └──&amp;gt;  sign up ──&amp;gt; user#new  ──────────────────────&amp;gt; Welcome page (not logged)
  └──&amp;gt;  logout  ────────────────&amp;gt; session#destroy ──&amp;gt; Welcome page
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Already got home#index (welcome), home#about(will be out logged page) and home#test (will be protected for testing purpose).&lt;/p&gt;

&lt;h3 id=&quot;welcome-page&quot;&gt;Welcome Page&lt;/h3&gt;

&lt;p&gt;Simple (and brut css) welcome page, with some bootstrap stuff for the &lt;em&gt;home#index view&lt;/em&gt; : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nc&quot;&gt;.jumbotron&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;margin-top:200px&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.h1&lt;/span&gt; Welcome to Red !
      &lt;span class=&quot;nt&quot;&gt;%br&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.h4&lt;/span&gt; Test line H4
      &lt;span class=&quot;nt&quot;&gt;%br&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Sign Up&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;btn btn-large btn-primary&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Login&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;btn btn-large btn-success&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;current_user&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Logout&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;logout_path&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;%br&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;About&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;about_path&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Test&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_path&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;current_user&lt;/code&gt; will be avaible if the user is already logged in.&lt;/p&gt;

&lt;h3 id=&quot;control-the-access&quot;&gt;Control the access&lt;/h3&gt;

&lt;p&gt;All the pages are accessible for the moment. So, in &lt;em&gt;application_controller.rb&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;before_filter&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:require_login&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:except&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:not_authenticated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;kp&quot;&gt;protected&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;not_authenticated&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;redirect_to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:alert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Login requis.&amp;quot;&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And in the &lt;em&gt;home\controller.rb&lt;/em&gt; :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;skip_before_filter&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:require_login&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:only&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now, only the welcome and the test page will be viewable for non registered users.&lt;/p&gt;

&lt;h3 id=&quot;managing-sessions&quot;&gt;Managing sessions&lt;/h3&gt;

&lt;p&gt;First, build the session controller :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rails g controller sessions new destroy
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SessionsController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationController&lt;/span&gt;

      &lt;span class=&quot;n&quot;&gt;before_action&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:set_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:create&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;before_action&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:require_login&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;only&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:destroy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;

      &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

      &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;  
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt;  
          &lt;span class=&quot;n&quot;&gt;redirect_back_or_to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;root_url&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:notice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Logged in!&amp;quot;&lt;/span&gt;  
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;  
          &lt;span class=&quot;n&quot;&gt;redirect_to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;root_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:alert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Email or password was invalid.&amp;quot;&lt;/span&gt; 
        &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;  
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; 
      &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;destroy&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;logout&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;redirect_to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;root_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:notice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Logged out!&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

      &lt;span class=&quot;kp&quot;&gt;private&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;set_user&lt;/span&gt;
          &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:sessions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:sessions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;session_params&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code&gt;logout&lt;/code&gt;method is provided by Sorcery. Notice the new private methods introduced with Rails 4 (&lt;a href=&quot;https://github.com/rails/strong_parameters&quot;&gt;strong parameters&lt;/a&gt;) (with a declaration in the model &lt;code&gt;include ActiveModel::ForbiddenAttributesProtection&lt;/code&gt;)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nota : when you redirect, must have a root_url instead of root_path&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;build-our-login-form-&quot;&gt;Build our login form :&lt;/h3&gt;

&lt;p&gt;With use of bootstrap modal for testing ; the form will send a POST on session controller, witch redirect it to the create method : (in &lt;em&gt;index.html.haml&lt;/em&gt;)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nf&quot;&gt;#modal_login&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.modal.fade&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.modal-dialog&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;.modal-content&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;form_for&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:sessions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sessions_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;form-horizontal&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;.modal-header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;background-color: #EEEEEE;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%button&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;button&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;data-dismiss&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;modal&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aria-hidden&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;right:0px;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;amp;times;&amp;#39;&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%h2&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.modal-title&lt;/span&gt; Login
              &lt;span class=&quot;nt&quot;&gt;%small&lt;/span&gt; Small text
            &lt;span class=&quot;nc&quot;&gt;.modal-body&lt;/span&gt;
              &lt;span class=&quot;nc&quot;&gt;.control-group&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;control-label&amp;#39;&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;.controls&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;
              &lt;span class=&quot;nc&quot;&gt;.control-group&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;control-label&amp;#39;&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;.controls&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;.modal-footer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;background-color: #EEEEEE;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;nc&quot;&gt;.control-group&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;.controls&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submit&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Sign In&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;btn btn-sucess&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And call it with our signin button :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link_to&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Login&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#modal_login&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;btn btn-large btn-success&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;data-toggle&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;modal&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;data-target&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#modal_login&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;So we’ve got a form pointing on sessions_path with POST method (so to the sessions create controller method ), with 2 parameters : &lt;code&gt;[sessions][email]&lt;/code&gt; and &lt;code&gt;[sessions][password]&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;flash-messages&quot;&gt;Flash messages&lt;/h3&gt;

&lt;p&gt;Ok, before the last part (creating a new user), let’s have more informations with flash message.&lt;/p&gt;

&lt;p&gt;Inspiration from &lt;a href=&quot;https://gist.github.com/potomak/1600856&quot;&gt;Gist flash&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So, in &lt;em&gt;application_helper.rb&lt;/em&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;flash_class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;level&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:notice&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alert alert-info&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:success&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alert alert-success&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:error&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alert alert-error&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:alert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alert alert-block&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alert &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now define a shared partial view (in &lt;em&gt;app/view/shared/_flash_message.html.haml&lt;/em&gt;) :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;%div&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.fade.in&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash_class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;%a&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:href&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;#&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;data-dismiss&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alert&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,}&lt;/span&gt; ×
        &lt;span class=&quot;nt&quot;&gt;%h4&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.alert-heading&lt;/span&gt; Notice !
        &lt;span class=&quot;nt&quot;&gt;%p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And use it in our global layout : &lt;em&gt;layouts/application.html.haml&lt;/em&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nt&quot;&gt;%body&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.container&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;shared/flash_message&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;yield&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;tip--auto-hide-rails-flash-messages&quot;&gt;TIP : Auto hide Rails flash messages&lt;/h3&gt;
&lt;/blockquote&gt;

&lt;p&gt;Just drop this coffee script in your &lt;em&gt;assets/javascript&lt;/em&gt; folder (look at &lt;a href=&quot;http://reinteractive.net/posts/13-ui-tips-for-flash-messages-in-rails&quot;&gt;http://reinteractive.net/posts/13-ui-tips-for-flash-messages-in-rails&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;coffeescript&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;-&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;flashCallback = &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;-&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.alert&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fadeOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.alert&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;click&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;(ev) =&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.alert&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fadeOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;setTimeout&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;flashCallback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3000&lt;/span&gt;
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;sign-up&quot;&gt;Sign up&lt;/h3&gt;

&lt;p&gt;Check some validations methods in user model and, same (brut) method, form pointing to the user controller this time.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;haml&quot;&gt;    &lt;span class=&quot;nf&quot;&gt;#modal_signup&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.modal.fade&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;.modal-dialog&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;.modal-content&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;form_for&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:html&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;form-horizontal&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;.modal-header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;background-color: #EEEEEE;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%button&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;button&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;data-dismiss&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;modal&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aria-hidden&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;right:0px;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;amp;times;&amp;#39;&lt;/span&gt;
              &lt;span class=&quot;nt&quot;&gt;%h2&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;.modal-title&lt;/span&gt; SignUp
              &lt;span class=&quot;nt&quot;&gt;%small&lt;/span&gt; Create your account
            &lt;span class=&quot;nc&quot;&gt;.modal-body&lt;/span&gt;
              &lt;span class=&quot;nc&quot;&gt;.control-group&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;control-label&amp;#39;&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;.controls&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;
              &lt;span class=&quot;nc&quot;&gt;.control-group&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;control-label&amp;#39;&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;.controls&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;
              &lt;span class=&quot;nc&quot;&gt;.control-group&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;control-label&amp;#39;&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;.controls&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password_field&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;
              
            &lt;span class=&quot;nc&quot;&gt;.modal-footer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;background-color: #EEEEEE;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;nc&quot;&gt;.control-group&lt;/span&gt;
                &lt;span class=&quot;nc&quot;&gt;.controls&lt;/span&gt;
                  &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submit&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Sign Up&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:class&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;btn btn-primary&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Don’t forget to add password and password_confirmation to the user_params method (if not, you’ll got a nice blank value for this params) :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;user_params&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;permit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:lastname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:identity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:birthdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:active&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password_confirmation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And that’s all for this time :) In case of some error, you will be redirected to the standard scaffold user page, created on starting.&lt;/p&gt;

&lt;h3 id=&quot;refactoring-&quot;&gt;Refactoring !!!&lt;/h3&gt;

&lt;p&gt;Next steps :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;create partial for both modal dialogs&lt;/li&gt;
  &lt;li&gt;use simple_form gem for clearing&lt;/li&gt;
  &lt;li&gt;create a semantic css declaration&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;mmo-for-sorcery&quot;&gt;Mémo for sorcery&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Mémo : From the core library, this is the avaible methods :&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;pre&gt;&lt;code&gt; # core
 require_login               # this is a before filter
 login(username,password,remember_me = false)
 auto_login(user)            # login without credentials
 logout
 logged_in?                  # available to view
 current_user                # available to view
  redirect_back_or_to         # used when a user tries to access a page while logged out, is asked to login, and we want to return him back to the page he originally wanted.
 @user.external?             # external users, such as facebook/twitter etc.
 User.authenticates_with_sorcery!
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Bootstrap 3 : Install and use it in Rails 4 (Win)</title>
   <link href="http://traz.github.com/post/2013/Bootstrap-3-pretest-whith-Rails-4"/>
   <updated>2013-04-06T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Bootstrap-3-pretest-whith-Rails-4</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#bootstrap-3-vs-zurb-foundation-&quot;&gt;Bootstrap 3 (vs Zurb Foundation ?)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#installing-nodejs-less-compiler-and-uglify-compressor&quot;&gt;Installing NodeJS, Less compiler and Uglify compressor&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#start-a-new-rails-app&quot;&gt;Start a new Rails app&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#compiling-files&quot;&gt;Compiling files&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#firsts-impressions&quot;&gt;Firsts impressions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#customize-via-semantic-css&quot;&gt;Customize via semantic css&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#optional--uglify&quot;&gt;Optional : Uglify&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;bootstrap-3-vs-zurb-foundation-&quot;&gt;Bootstrap 3 (vs Zurb Foundation ?)&lt;/h3&gt;

&lt;p&gt;Ok, I’m not a big fan of Less, but i want to try the new Bootstrap 3 :) Users have just to wait that 1) bootstrap is released, 2) bootstrap-sass gem is up to date.&lt;/p&gt;

&lt;p&gt;I have to take a more deep look at &lt;a href=&quot;http://foundation.zurb.com/&quot;&gt;Zurb Foundation&lt;/a&gt; which come with nice sass, but the purpose here is to test a work-in-progress :)&lt;/p&gt;

&lt;h3 id=&quot;installing-nodejs-less-compiler-and-uglify-compressor&quot;&gt;Installing NodeJS, Less compiler and Uglify compressor&lt;/h3&gt;

&lt;p&gt;So for testing, we must compile less files, which is done with &lt;a href=&quot;http://nodejs.org/download/&quot;&gt;nodeJS&lt;/a&gt;. Install it (in &lt;em&gt;c:/dev/&lt;/em&gt; as usual for me), and check the library less with the integrated package manager &lt;code&gt;npm&lt;/code&gt; : &lt;em&gt;be carefull : npm install in the actual directory&lt;/em&gt; so, you can choose to use &lt;code&gt;g&lt;/code&gt; option to install it in the global directory (set as $USERPROFILE/appdate/roaming/npm/npm_modules by default … :( ) or go to your already installed npm library (for me : &lt;em&gt;c:/dev/nodejs/node_modules/npm&lt;/em&gt;) and make some alias after in your bash shell).&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nota : you can check some &lt;a href=&quot;https://github.com/cloudhead/less.js/wiki/GUI-compilers-that-use-LESS.js&quot;&gt;GUI Less compiler for windows&lt;/a&gt; if you want.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;cd c:/dev/nodejs/node_modules/npm
npm install less
npm install uglify-js
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ok let make an alias for this deep directory in &lt;em&gt;~/.profile&lt;/em&gt; or &lt;em&gt;~/.bash_profile&lt;/em&gt; and test it :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lessc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;C:/Dev/nodejs/node_modules/npm/node_modules/less/bin/lessc&amp;#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;uglifyjs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;c:/Dev/nodejs/node_modules/npm/node_modules/uglify-js/bin/uglifyjs&amp;#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;
lessc --version
&amp;gt;&amp;gt;lessc 1.3.3 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;LESS Compiler&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;JavaScript&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
lessc --help
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;Nota 1 : another solution exist, look at &lt;a href=&quot;https://github.com/duncansmart/less.js-windows&quot;&gt;https://github.com/duncansmart/less.js-windows&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;Nota 2 : Check some &lt;a href=&quot;http://wbond.net/sublime_packages/community&quot;&gt;Sublime Package&lt;/a&gt; for syntax highlighting and auto compile less file to css.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;start-a-new-rails-app&quot;&gt;Start a new Rails app&lt;/h3&gt;

&lt;p&gt;Classical &lt;code&gt;rails new app_name&lt;/code&gt; &lt;/p&gt;

&lt;h3 id=&quot;compiling-files&quot;&gt;Compiling files&lt;/h3&gt;

&lt;p&gt;The final output are : CSS files, JS files and images files. JS files are not minified for the moment (just testing them), nor the CSS too.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;First, copy all the Javascript from &lt;em&gt;bootstrap/js&lt;/em&gt; to &lt;em&gt;app/assets/javascripts&lt;/em&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Idem, copy the &lt;em&gt;fonts&lt;/em&gt; directory to &lt;em&gt;app/assets/&lt;/em&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Third compile the Less files from your boostrap git repository to your rails app :&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;cd /app/assets/stylesheets
lessc /bootstrap/less/bootstrap.less bootstrap.css # put the full path from your source bootstrap git directory.
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And that’s done !&lt;/p&gt;

&lt;h3 id=&quot;firsts-impressions&quot;&gt;Firsts impressions&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Don’t forget to adjust &lt;code&gt;@font-face&lt;/code&gt; for the fonts directory in &lt;em&gt;bootsrap.css&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;Every things work for the moment. Have to build a real site with others components …&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Great Work Bootstrap Team !!&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nota : Don’t forget to regularly use a &lt;code&gt;git pull&lt;/code&gt; for get the last bootstrap update !&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;customize-via-semantic-css&quot;&gt;Customize via semantic css&lt;/h3&gt;

&lt;p&gt;Don’t overload your html with bootstrap class take a look :&lt;a href=&quot;http://ruby.bvision.com/blog/please-stop-embedding-bootstrap-classes-in-your-html&quot;&gt;http://ruby.bvision.com/blog/please-stop-embedding-bootstrap-classes-in-your-html&lt;/a&gt; !&lt;/p&gt;

&lt;p&gt;For now, the solution is to create a temporary file witch will declare custom setting before importing the main bootstrap less file. (It’s easiest with sass …)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;create a &lt;em&gt;custom&lt;/em&gt; directory in your assets&lt;/li&gt;
  &lt;li&gt;create a main less file in this directory : &lt;em&gt;main-custom.less&lt;/em&gt; with the full directory path to your bootsrap git file ie for me : &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;css&quot;&gt;        &lt;span class=&quot;c&quot;&gt;/* custom less setting mixins before */&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;@import&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;c:/www/github/bootstrap/less/bootstrap/less&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
        
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;compile &lt;code&gt;lessc main-custom.less ../stylesheets/bootstrap.css&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;optional--uglify&quot;&gt;Optional : Uglify&lt;/h3&gt;

&lt;p&gt;Ok it’s somewhere dirty html code with plenty of javascript been call …
Let make just one big file and compress them : (nota : for testing/debugging purpose it’s not the time)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;        &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /app/assets/javascripts
        cat bootstrap*.js &amp;gt; bootstrap.js
        uglify bootstrap.js -c -m &amp;gt; bootstrap.min.js
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And change the &lt;em&gt;application.js&lt;/em&gt; for not requiring the entire tree.&lt;/p&gt;

</content> -->
 </entry>
 
 <entry>
   <title>Markdown</title>
   <link href="http://traz.github.com/memos/2013/memo-markdown"/>
   <updated>2013-04-05T00:00:00+11:00</updated>
   <id>http://traz.github.com/memos/2013/memo-markdown</id>
<!--    <content type="html">&lt;p&gt;Some memos for Markdown&lt;/p&gt;

&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#specials-characters&quot;&gt;Specials characters&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#headers-with-class-&quot;&gt;Headers with class :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#html-element-with-inner-markdown-element&quot;&gt;HTML element with inner markdown element&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#links&quot;&gt;Links&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#images-tags&quot;&gt;Images tags&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#code&quot;&gt;Code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#horizontal-rules&quot;&gt;Horizontal rules&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#headers&quot;&gt;Headers&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#emphasis&quot;&gt;Emphasis&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#lists&quot;&gt;Lists&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#blockquotes&quot;&gt;Blockquotes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#this-is-a-header&quot;&gt;This is a header.&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#tables&quot;&gt;Tables&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#further-tests&quot;&gt;Further tests&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#link-references&quot;&gt;Link references&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;specials-characters&quot;&gt;Specials characters&lt;/h3&gt;

&lt;p&gt;Escape with &lt;code&gt;\&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Test for smartypants substitution :&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Markdown&lt;/th&gt;
      &lt;th&gt;HTML&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;text&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;``text’’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;&quot;double-quoted text&quot;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;“double-quoted text”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;&#39;single-quoted text&#39;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;‘single-quoted text’&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;(tm)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;(tm)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;(r)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;(r)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;(c)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;(c)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;1/4th, 1/2, 3/4ths, and 5/4.&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;1/4th, 1/2, 3/4ths, and 5/4.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;...&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;. . .&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;. . .&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt; A^B. A^(B+2)&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;A^B. A^(B+2)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;&amp;lt;&amp;lt;&lt;/code&gt; and &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;« and »&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;&amp;amp;copy;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;©&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;&amp;amp;trade;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;™&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;&amp;amp;reg;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;®&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;&amp;amp;frac12;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;½&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code&gt;&amp;amp;frac14;&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;¼&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;headers-with-class-&quot;&gt;Headers with class :&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;Title
===
{: .big .thin}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;html-element-with-inner-markdown-element&quot;&gt;HTML element with inner markdown element&lt;/h3&gt;

&lt;p&gt;USe &lt;code&gt;{::options parse_block_html=&quot;true&quot; /}&lt;/code&gt; before ie :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{::options parse_block_html=&quot;true&quot; /}

&amp;lt;section class=&quot;content about&quot;&amp;gt;

Traz
====
{:.big .thin}

Just a simple Ruby hobbyist from New Caledonia 
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;links&quot;&gt;Links&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;&amp;lt;http://traz.github.io&amp;gt;&lt;/code&gt; auto link to &lt;a href=&quot;http://traz.github.io&quot;&gt;http://traz.github.io&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;blockquoted : &lt;a href=&quot;http://traz.github.io&quot;&gt;http://traz.github.io&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;in a list&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://traz.github.io&quot;&gt;http://traz.github.io&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;but not here &lt;code&gt;&amp;lt;http://example.com/&amp;gt;&lt;/code&gt; &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;or here: &amp;lt;http://example.com/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;[Markdown] [1]&lt;/code&gt; give &lt;a href=&quot;http://tedwise.com/markdown/&quot;&gt;Markdown&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;&lt;code&gt;[RDiscount][2]&lt;/code&gt; give &lt;a href=&quot;http://www.pell.portland.or.us/~orc/Code/markdown/&quot;&gt;RDiscount&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;with at the end of the page :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[1]: http://tedwise.com/markdown/
[2]: http://www.pell.portland.or.us/~orc/Code/markdown/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Inline link : &lt;/p&gt;

&lt;p&gt;just &lt;code&gt;[url name](/url.adress/ &quot;title&quot;)&lt;/code&gt;, or &lt;code&gt;[url name](url.adress)&lt;/code&gt; like &lt;a href=&quot;http://traz.github.io/&quot; title=&quot;My notes&quot;&gt;Traz’s notes&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;For some inline page references, use the inline link &lt;code&gt;[title](#html_id)&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;images-tags&quot;&gt;Images tags&lt;/h3&gt;

&lt;p&gt;Just like links : &lt;code&gt;![alt text](/path/to/img.png &quot;Title&quot;)&lt;/code&gt; for inline or same for reference-style.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/tz.jpeg&quot; alt=&quot;alt text&quot; title=&quot;Traz&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Or with reference : &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;![Alt text][id]
...
[id]: url/to/image  &quot;Optional title attribute&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;code&quot;&gt;Code&lt;/h3&gt;

&lt;p&gt;Just one &lt;tab&gt; or 4 spaces.
For highlighting with pygments, use `{ % highlighting lexername % }` starting block with a `{ % enhighlighting % }` (without space between { or } and % ).&lt;/tab&gt;&lt;/p&gt;

&lt;h3 id=&quot;horizontal-rules&quot;&gt;Horizontal rules&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;---&lt;/code&gt; or &lt;code&gt;***&lt;/code&gt; or &lt;code&gt;___&lt;/code&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;headers&quot;&gt;Headers&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;### Header 3&lt;/code&gt; and &lt;code&gt;## Header 2&lt;/code&gt; …&lt;/p&gt;

&lt;h3 id=&quot;emphasis&quot;&gt;Emphasis&lt;/h3&gt;

&lt;p&gt;Use &lt;code&gt;*word*&lt;/code&gt; or &lt;code&gt;_word_&lt;/code&gt; or &lt;code&gt;**word**&lt;/code&gt; and &lt;code&gt;__word__&lt;/code&gt; give : &lt;em&gt;word&lt;/em&gt; or &lt;em&gt;word&lt;/em&gt; or &lt;strong&gt;word&lt;/strong&gt; and &lt;strong&gt;word&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;lists&quot;&gt;Lists&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;*&lt;/code&gt; for unordered can swap with &lt;code&gt;+&lt;/code&gt;, or &lt;code&gt;-&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;one&lt;/li&gt;
  &lt;li&gt;two &lt;/li&gt;
  &lt;li&gt;three&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ordered :&lt;/p&gt;

&lt;p&gt;a. one
b. two 
c. three &lt;/p&gt;

&lt;p&gt;numbered : &lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;one&lt;/li&gt;
  &lt;li&gt;two&lt;/li&gt;
  &lt;li&gt;three&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Blank line betweens items give some &amp;lt;p&amp;gt; tags for the list item.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;A list item.&lt;/p&gt;

    &lt;p&gt;With multiple paragraphs.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Another item in the list.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;blockquotes&quot;&gt;Blockquotes&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt; ## This is a header.
&amp;gt; 
&amp;gt; 1.   This is the first list item.
&amp;gt; 2.   This is the second list item.
&amp;gt; 
&amp;gt; Here&#39;s some example code:
&amp;gt; 
&amp;gt;     return shell_exec(&quot;echo $input | $markdown_script&quot;);

*   A list item with a blockquote:
    &amp;gt; This is a blockquote
    &amp;gt; inside a list item.

*   A list item with a code block:
        &amp;lt;code goes here&amp;gt; gives
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
  &lt;h2 id=&quot;this-is-a-header&quot;&gt;This is a header.&lt;/h2&gt;

  &lt;ol&gt;
    &lt;li&gt;This is the first list item.&lt;/li&gt;
    &lt;li&gt;This is the second list item.&lt;/li&gt;
  &lt;/ol&gt;

  &lt;p&gt;Here’s some example code:&lt;/p&gt;

  &lt;pre&gt;&lt;code&gt;return shell_exec(&quot;echo $input | $markdown_script&quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;A list item with a blockquote:
&amp;gt; This is a blockquote
&amp;gt; inside a list item.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;A list item with a code block:&lt;/p&gt;

    &lt;pre&gt;&lt;code&gt;&amp;lt;code goes here&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;tables&quot;&gt;Tables&lt;/h3&gt;

&lt;p&gt;First line is the header, second line define the alignment with the colon (on left, on right, or centered)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;| header column 1 |          header column 2          | header column 3 |
| :-------------- | --------------------------------: | :-------------: |
| hello           |                            sailor |       test      |
| next            |                                 2 |        1        |
| 3rd line        | long text for testing the purpose |        5        |
&lt;/code&gt;&lt;/pre&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;header column 1&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;header column 2&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;header column 3&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;hello&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;sailor&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;test&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;next&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3rd line&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;long text for testing the purpose&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;5&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;further-tests&quot;&gt;Further tests&lt;/h3&gt;

&lt;p&gt;For center a text : &lt;code&gt;-&amp;gt;center text&amp;lt;-&lt;/code&gt; :doesn’t work with kramdown, use instead :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;**This is a test**
{: style=&quot;text-align: center&quot;}
&lt;/code&gt;&lt;/pre&gt;

&lt;p style=&quot;text-align: center&quot;&gt;&lt;strong&gt;This is a test&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;tag1 *test* test
tag2
: data.
tag1
: data
&lt;/code&gt;&lt;/pre&gt;

&lt;dl&gt;
  &lt;dt&gt;tag1 &lt;em&gt;test&lt;/em&gt; test&lt;/dt&gt;
  &lt;dt&gt;tag2&lt;/dt&gt;
  &lt;dd&gt;data.
tag1&lt;/dd&gt;
  &lt;dd&gt;data&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;Inline &amp;lt;span&amp;gt; :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;This is &amp;lt;span style=&quot;color: red&quot;&amp;gt;written in red&amp;lt;/span&amp;gt;.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is &lt;span style=&quot;color: red&quot;&gt;written in red&lt;/span&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;This is *red*{: style=&quot;color: red&quot;}.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is &lt;em style=&quot;color: red&quot;&gt;red&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id=&quot;link-references&quot;&gt;Link references&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://tedwise.com/markdown/&quot;&gt;http://tedwise.com/markdown/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.pell.portland.or.us/~orc/Code/markdown/&quot;&gt;http://www.pell.portland.or.us/~orc/Code/markdown/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://kramdown.rubyforge.org/quickref.htm&quot;&gt;http://kramdown.rubyforge.org/quickref.htm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content> -->
 </entry>
 
 <entry>
   <title>Bootstrap 3 : first taste</title>
   <link href="http://traz.github.com/post/2013/Bootstrap3-preview"/>
   <updated>2013-04-05T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Bootstrap3-preview</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#getting-the-source-code&quot;&gt;Getting the source code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#checking-the-new-doc-&quot;&gt;Checking the new doc :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#tip---incompatible-character-encodings-cp850-and-utf-8&quot;&gt;TIP :  incompatible character encodings: CP850 and UTF-8&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#follow-bootstrap-3-news&quot;&gt;Follow Bootstrap 3 news&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;getting-the-source-code&quot;&gt;Getting the source code&lt;/h3&gt;

&lt;p&gt;Simply, clone the Git repository, and go to the right branch :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;git clone https://github.com/twitter/bootstrap.git
git checkout 3.0.0-wip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;checking-the-new-doc-&quot;&gt;Checking the new doc :&lt;/h3&gt;

&lt;p&gt;Bootstrap 3 come with some new fresh Doc, managed with a Jekyll server, so :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;jekyll serve --port 80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;tip---incompatible-character-encodings-cp850-and-utf-8&quot;&gt;TIP :  incompatible character encodings: CP850 and UTF-8&lt;/h3&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt; : if you’ve got some CP850 error from Liquid under windows, launch a DOS prompt, tape &lt;code&gt;chcp 65001&lt;/code&gt; then launch your bash shell &lt;code&gt;sh -l -i&lt;/code&gt; and launch the jekyll server after.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;follow-bootstrap-3-news&quot;&gt;Follow Bootstrap 3 news&lt;/h3&gt;

&lt;p&gt;Check &lt;a href=&quot;https://github.com/twitter/bootstrap/pull/6342&quot;&gt;https://github.com/twitter/bootstrap/pull/6342&lt;/a&gt;&lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Rake commands</title>
   <link href="http://traz.github.com/memos/2013/memo-rake-commands"/>
   <updated>2013-04-02T00:00:00+11:00</updated>
   <id>http://traz.github.com/memos/2013/memo-rake-commands</id>
<!--    <content type="html">&lt;h3 id=&quot;meta-commands&quot;&gt;Meta commands&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;rake --help
rake -T db:       # list all db:* commands
rake -d db:setup  # describe the command
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;db-commands&quot;&gt;db commands&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;rake db:fixtures:load
rake db:fixtures:load FIXTURES=cities,users

rake db:drop
rake db:migrate

rake db:seed

rake db:setup      # create + migrate + seed
rake db:reset      # drop + setup

rake db:rollback   # undo the last migration
rake db:rollback STEP=3  # the last 3
rake db:migrate:redo STEP=3
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;assets-commands&quot;&gt;assets commands&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;rake assets:precompile
rake assets:clean           ## deleete /public/assets
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;routes-commands&quot;&gt;routes commands&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;rake routes
&lt;/code&gt;&lt;/pre&gt;

</content> -->
 </entry>
 
 <entry>
   <title>Dr Jekyll and Mister --safe Github</title>
   <link href="http://traz.github.com/post/2013/Jekyll-github"/>
   <updated>2013-03-29T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Jekyll-github</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#setup-a-blog-with-jekyll-on-github-back-again&quot;&gt;Setup a blog with Jekyll on Github. Back. Again.&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#solution--static-site--generated-dynamically&quot;&gt;Solution : static site … generated dynamically&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#step-by-step-&quot;&gt;Step by Step :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#one-for-all&quot;&gt;One for all&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#aliasing&quot;&gt;Aliasing&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#in-so-quick--dirty-way--a-little-bash-script&quot;&gt;In so quick &amp;amp; dirty way : a little bash script&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;setup-a-blog-with-jekyll-on-github-back-again&quot;&gt;Setup a blog with Jekyll on Github. Back. Again.&lt;/h3&gt;

&lt;p&gt;So you’ve got a nice simple Github pages. Missing some tag ? No problem, check the Jekyll plugins directory, tape one and install it. &lt;code&gt;jekyll serve --port 80&lt;/code&gt; locally (i’m on Jekyll 1 prerelease) and all it’s fine ! Simple blog, with simple tag management.&lt;/p&gt;

&lt;p&gt;One &lt;code&gt;git push origin remote&lt;/code&gt; and … c’est le bordel, as we says here … First check my code … but nothing seems wrong. Monkey-patch the plugin … nothing wrong again …&lt;/p&gt;

&lt;p&gt;Digging Google : Github run his github page with &lt;code&gt;-- safe&lt;/code&gt; : &lt;strong&gt;no plugins are allowed to run on Github page&lt;/strong&gt; !! &lt;/p&gt;

&lt;h3 id=&quot;solution--static-site--generated-dynamically&quot;&gt;Solution : static site … generated dynamically&lt;/h3&gt;

&lt;p&gt;Finally have found the solution with &lt;a href=&quot;http://edhedges.com/blog/2012/07/30/jekyll-with-plugins-hosted-on-github-pages/&quot;&gt;http://edhedges.com/blog/2012/07/30/jekyll-with-plugins-hosted-on-github-pages/&lt;/a&gt; : keep Git with 2 different structures, &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the master branch : containing only the static site (inside the &lt;em&gt;_site&lt;/em&gt; directory of your Jekyll installation)&lt;/li&gt;
  &lt;li&gt;a dev branch : containing the full Jekyll site, where i launch the jekyll server for generate the statics pages.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;step-by-step-&quot;&gt;Step by Step :&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;create a new branch&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;      git checkout -b dev
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;work on this branch only (create another branch from this one for testing new features, or just create some new posts), and use git here (commit, merge from new features, …)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;when you want to publish, run jekyll server for generating the statics files in &lt;em&gt;_site&lt;/em&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;      jekyll build
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;get a reference id for the tree (&lt;em&gt;_site&lt;/em&gt;) : this pointer contain only a reference to the &lt;em&gt;_site&lt;/em&gt; tree.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;      git commit-tree dev^&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tree&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;:_site -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;message&amp;#39;&lt;/span&gt;
      &amp;gt; COMMIT_ID
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and check your log&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;      git lg COMMIT_ID 
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;now, update the master branch for pointing only to this tree object : &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;      git update-ref refs/heads/master COMMIT_ID
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;go to the master branch&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;      git checkout master
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;and push it to github (with -f option because our master doesn’t have any parent)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;      git push -f origin master
      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And that’s it !&lt;/p&gt;

&lt;h3 id=&quot;one-for-all&quot;&gt;One for all&lt;/h3&gt;

&lt;p&gt;Ok, do all of this in just one step from the dev branch (after running jekyll) :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    git update-ref refs/heads/master &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Add commit message here!&amp;#39;&lt;/span&gt; | git commit-tree dev^&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tree&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;:_site -p &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat .git/refs/heads/master&lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;aliasing&quot;&gt;Aliasing&lt;/h3&gt;

&lt;p&gt;Easing the hacker life :) &lt;/p&gt;

&lt;p&gt;So, in [alias] section of &lt;em&gt;.gitconfig&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    &lt;span class=&quot;nv&quot;&gt;devtree&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;!sh -c &amp;#39;git update-ref refs/heads/master $(echo \&amp;quot;Transfert\&amp;quot; | git commit-tree dev^{tree}:_site -p $(cat .git/refs/heads/master))&amp;#39;&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;### in quick and dirty way, a shell alias : &lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;trf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;jekyll build &amp;amp;&amp;amp; git add . &amp;amp;&amp;amp; git commit -m &amp;#39;post : upd&amp;#39; &amp;amp;&amp;amp; git devtree &amp;amp;&amp;amp; git co master &amp;amp;&amp;amp; git push origin master &amp;amp;&amp;amp; git co dev&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now, after commiting my work, I have just to launch a &lt;code&gt;trf&lt;/code&gt; command for publishing on Github :)&lt;/p&gt;

&lt;h3 id=&quot;in-so-quick--dirty-way--a-little-bash-script&quot;&gt;In so quick &amp;amp; dirty way : a little bash script&lt;/h3&gt;

&lt;p&gt;Feel free to comment / improve it ! In short, use your dev for working and master only for pushing to Github. &lt;a href=&quot;https://gist.github.com/Traz/5333597&quot;&gt;Gist code&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    &lt;span class=&quot;c&quot;&gt;#!/bin/bash  &lt;/span&gt;


    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;------- Transfer statics pages to Github (make sure jekyll build ok, and git branch dev commited) ---&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;current_branch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;git branch | grep &lt;span class=&quot;s1&quot;&gt;&amp;#39;*&amp;#39;&lt;/span&gt; | cut -c 3-&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[1;33mGit\033[0m    : Current branch :\033[0;31m $current_branch\033[0m&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$current_branch&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;dev&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;31mERROR : Branch must be dev \033[0m&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;------- Finished&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;32mJekyll\033[0m : Build&amp;quot;&lt;/span&gt;
    jekyll build

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;33mGit\033[0m    : add .&amp;quot;&lt;/span&gt;
    git add .

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;34mUSER\033[0m   : enter the commit message for dev branch : &amp;quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;dev_commit_message

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;33mGit\033[0m    : commit dev &amp;quot;&lt;/span&gt;
    git commit -m &lt;span class=&quot;s2&quot;&gt;&amp;quot;$dev_commit_message&amp;quot;&lt;/span&gt;


    &lt;span class=&quot;nv&quot;&gt;master_commit_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat .git/refs/heads/master&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;33mGit\033[0m    : get the last COMMIT_ID of master branch :\033[0;31m ${master_commit_id:0:7}\033[0m&amp;quot;&lt;/span&gt;



    &lt;span class=&quot;nv&quot;&gt;commit_tree_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;git commit-tree dev^&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tree&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;:_site -p &lt;span class=&quot;nv&quot;&gt;$master_commit_id&lt;/span&gt; -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;$dev_commit_message&amp;#39;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;33mGit\033[0m    : commit-tree _site, id :\033[0;31m ${commit_tree_id:0:7} \033[0m&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;new_master_commit_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;git update-ref refs/heads/master &lt;span class=&quot;nv&quot;&gt;$commit_tree_id&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;33mGit\033[0m    : update-ref, new master id  : \033[0;31m ${new_master_commit_id:0:7} \033[0m&amp;quot;&lt;/span&gt;


    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;33mGit\033[0m    : checkout master&amp;quot;&lt;/span&gt;
    git checkout master

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;33mGit\033[0m    : push origin master to github&amp;quot;&lt;/span&gt;
    git push origin master 

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;-- \033[0;33mGit\033[0m    : checkout dev&amp;quot;&lt;/span&gt;
    git checkout dev 

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;------- Finished &amp;quot;&lt;/span&gt;

    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Don’t hesitate to improve it !&lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Pik & Bash</title>
   <link href="http://traz.github.com/post/2013/Pik"/>
   <updated>2013-03-28T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Pik</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#use-pik-with-a-bash-shell&quot;&gt;Use pik with a bash shell&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#additional-info&quot;&gt;Additional info&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;use-pik-with-a-bash-shell&quot;&gt;Use pik with a bash shell&lt;/h3&gt;

&lt;p&gt;In &lt;em&gt;.bashrc&lt;/em&gt; in you $HOME :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    &lt;span class=&quot;c&quot;&gt;# Add the following line to your existing .bashrc&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Note the double quotes on the path next to source&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; -s &lt;span class=&quot;nv&quot;&gt;$USERPROFILE&lt;/span&gt;/.pik/.pikrc &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$USERPROFILE/.pik/.pikrc&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And in &lt;em&gt;.pyrc&lt;/em&gt; file :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    &lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;
     
    &lt;span class=&quot;c&quot;&gt;# Assuming that Pik is install on the C: drive&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;pik_path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;C:/pik
     
    &lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;pik &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$pik_path&lt;/span&gt;/pik_runner.exe pik.sh &lt;span class=&quot;nv&quot;&gt;$@&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Note the double quotes on the path next to source&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; -s &lt;span class=&quot;nv&quot;&gt;$USERPROFILE&lt;/span&gt;/.pik/pik.sh &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$USERPROFILE/.pik/pik.sh&amp;quot;&lt;/span&gt;
     
    &lt;span class=&quot;nb&quot;&gt;unset &lt;/span&gt;GEM_HOME
    &lt;span class=&quot;nb&quot;&gt;unset &lt;/span&gt;GEM_PATH
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; 
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;additional-info&quot;&gt;Additional info&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/4020635/how-can-i-use-pik-for-ruby-in-git-bash-on-windows&quot;&gt;http://stackoverflow.com/questions/4020635/how-can-i-use-pik-for-ruby-in-git-bash-on-windows&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://saratrice.com/2010/11/11/pik-and-git-bash-on-windows-7/&quot;&gt;http://saratrice.com/2010/11/11/pik-and-git-bash-on-windows-7/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/techarch/1239600&quot;&gt;https://gist.github.com/techarch/1239600&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/mgoggin/5218479&quot;&gt;https://gist.github.com/mgoggin/5218479&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content> -->
 </entry>
 
 <entry>
   <title>PRY colorized prompt</title>
   <link href="http://traz.github.com/post/2013/Pry-prompt"/>
   <updated>2013-03-26T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Pry-prompt</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#the-solution-now-&quot;&gt;The solution, now !&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#explications&quot;&gt;Explications&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#further-reading&quot;&gt;Further reading&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;the-solution-now-&quot;&gt;The solution, now !&lt;/h3&gt;

&lt;p&gt;After few hours of digging around several solution, I’ve finally have a working colorized prompt for PRY !*&lt;/p&gt;

&lt;p&gt;So the final solution now : (puts those lines in your &lt;em&gt;.pryrc&lt;/em&gt; at you $HOME)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;
                  &lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target_self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
                        &lt;span class=&quot;s2&quot;&gt;&amp;quot;[&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input_array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0;32m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0;33m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;view_clip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target_self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;:&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zero?&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;gt; &amp;quot;&lt;/span&gt;
                       &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
                  &lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target_self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
                        &lt;span class=&quot;s2&quot;&gt;&amp;quot;[&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input_array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[1;32m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[1;33m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;view_clip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target_self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;:&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zero?&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;* &amp;quot;&lt;/span&gt;
                       &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;explications&quot;&gt;Explications&lt;/h3&gt;

&lt;p&gt;First the color code :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    Black       0;30     Dark Gray     1;30
    Blue        0;34     Light Blue    1;34
    Green       0;32     Light Green   1;32
    Cyan        0;36     Light Cyan    1;36
    Red         0;31     Light Red     1;31
    Purple      0;35     Light Purple  1;35
    Brown       0;33     Yellow        1;33
    Light Gray  0;37     White         1;37
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The color format is &lt;code&gt;\e[0;31m&lt;/code&gt; for a red and &lt;code&gt;\e[1;31m&lt;/code&gt; for a light red, ending with a &lt;code&gt;\e[0m&lt;/code&gt; sequence (full ANSI sequence : &lt;strong&gt;{ESC}[{attr};{bg};{256colors};{fg}m&lt;/strong&gt; )&lt;/p&gt;

&lt;p&gt;Take a look a this for further detail :
SGR (Select Graphic Rendition) parameters&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;0   Reset current attributes
1   Set BrightOrBold
2   Unset BrightOrBold
3   Set ItalicOrInverse
4   Set BackOrUnderline
5   Set BackOrUnderline
30...37   Set ANSI text color
38 ; 5 ; n  Set xterm text color, n is color index from 0 to 255
39  Reset text color to defaults
40...47   Set ANSI background color
48 ; 5 ; n  Set xterm background color, n is color index from 0 to 255
49  Reset background color to defaults 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;But you have to escape those special characters because the readline library doesn’t count well the line length. So this why we got a &lt;code&gt;\001&lt;/code&gt; in starting and a &lt;code&gt;\001&lt;/code&gt; in finish.&lt;/p&gt;

&lt;h3 id=&quot;further-reading&quot;&gt;Further reading&lt;/h3&gt;

&lt;p&gt;Pry prompt can change in real-time in the pry shell with the &lt;code&gt;_pry_&lt;/code&gt; variable, ie :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;_pry_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;gt; &amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;_pry_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:DEFAULT_PROMPT&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Check those links :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/pry/pry/wiki/Customization-and-configuration#runtime-customization&quot;&gt;Pry customization&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/pry/pry/issues/493&quot;&gt;Pry issue on colorizing the prompt&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/8992330/why-does-my-irb-prompt-with-ansi-color-codes-mess-up-page-up-down-behavior-with&quot;&gt;Stakoverflow discussion about escaping sequence&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/8806643/colorized-output-breaks-linewrapping-with-readline/8916332#8916332&quot;&gt;Another stakeoverflow about readline and color&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://superuser.com/questions/301353/escape-non-printing-characters-in-a-function-for-a-bash-prompt&quot;&gt;The right explication for the escaping sequence in readline&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content> -->
 </entry>
 
 <entry>
   <title>ConEmu</title>
   <link href="http://traz.github.com/post/2013/ConEmu"/>
   <updated>2013-03-25T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/ConEmu</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#console2-reboot&quot;&gt;Console2 reboot&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conemu-basic-configuration&quot;&gt;ConEmu basic configuration&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conemu-task&quot;&gt;ConEmu Task&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#simples-examples&quot;&gt;Simples examples&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#starting-a-batch-file-in-a-new-console&quot;&gt;Starting a batch file in a new console&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#launch-several-windowed-consoles&quot;&gt;Launch several windowed consoles&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#attach--inside-&quot;&gt;Attach &amp;amp; Inside …&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#how-to-set-title-tab-and-starting-directory&quot;&gt;How to set title tab AND starting directory&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;console2-reboot&quot;&gt;Console2 reboot&lt;/h3&gt;

&lt;p&gt;I’ve used for long time the very good &lt;a href=&quot;http://sourceforge.net/projects/console/&quot;&gt;Console2&lt;/a&gt;. But I’ve discovered last month a Russian programmer who has build some really good stuff !&lt;/p&gt;

&lt;p&gt;So first, go to &lt;a href=&quot;http://code.google.com/p/conemu-maximus5/&quot;&gt;ConEmu&lt;/a&gt; and install it (pick the dev build, it has some good new features and work well !)&lt;/p&gt;

&lt;h3 id=&quot;conemu-basic-configuration&quot;&gt;ConEmu basic configuration&lt;/h3&gt;

&lt;p&gt;ConEmu can be fine tuned with a lot of configuration possibility. In the setting :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Main / Appearance : check the &lt;em&gt;quake style&lt;/em&gt; and &lt;em&gt;auto hide on focus&lt;/em&gt; for having a nice pop up console, check &lt;em&gt;enhance progressbars&lt;/em&gt; for auto hiding progress bars&lt;/li&gt;
  &lt;li&gt;Features : check &lt;em&gt;inject conemu&lt;/em&gt; and &lt;em&gt;ansi xterm 256 colors&lt;/em&gt; for highlighting mode&lt;/li&gt;
  &lt;li&gt;Keys &amp;amp; Macro / Mark &amp;amp; Paste : check all the box from the &lt;em&gt;select text with mouse&lt;/em&gt; and select the &lt;em&gt;paste&lt;/em&gt; action for the right button (mode &lt;em&gt;auto&lt;/em&gt;).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Move around and test !&lt;/p&gt;

&lt;h3 id=&quot;conemu-task&quot;&gt;ConEmu Task&lt;/h3&gt;

&lt;p&gt;You can define multiple standard task in &lt;em&gt;startup/tasks&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;I’ve created a first simple :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;taskname : start&lt;/li&gt;
  &lt;li&gt;task parameters : &lt;/li&gt;
  &lt;li&gt;command : &lt;code&gt;cmd -new_console:d:C:\Dev\home&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It’s the most important part. The format of the macro command is :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;program-name -new_console:options-console parameter-for-the-program
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Take a look at the about box for remember the options :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;-new_console[:switches]
  or
-cur_console[:switches]
   a - RunAs shell verb (as Admin on Vista+, login/passw in Win2k and WinXP)
   b - Create background tab
   c - force enable &#39;Press Enter or Esc to close console&#39; (default)
   d:&amp;lt;dir&amp;gt; - specify working directory, MUST BE LAST or single OPTION
   h&amp;lt;height&amp;gt; - i.e., h0 - turn buffer off, h9999 - switch to 9999 lines
   i - don&#39;t inject ConEmuHk into starting process
   n - disable &#39;Press Enter or Esc to close console&#39;
   o - don&#39;t enable &#39;Long console output&#39; when starting command from Far Manager
   r - run as restricted user
   s[&amp;lt;SplitTab&amp;gt;T][&amp;lt;Percents&amp;gt;](H|V) - run new console in a split
   t:tabname - rename new created tab, MUST BE LAST or signle OPTION
   u - ConEmu choose user dialog
   u:&amp;lt;user&amp;gt;:&amp;lt;pwd&amp;gt; - specify user/pwd in args, MUST BE LAST or signle OPTION
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;simples-examples&quot;&gt;Simples examples&lt;/h3&gt;

&lt;p&gt;Just add a task with : &lt;code&gt;cmd&lt;/code&gt; in the third input (‘commands …’) with a title (first input). You can now launch a DOS shell simply.&lt;/p&gt;

&lt;p&gt;Next step : launch  the bash shell (sh.exe is en the PATH) : &lt;code&gt;sh -login -i&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;And for a Git shell (not in my path) : &lt;code&gt;c:\dev\git\bin\sh.exe -login -i&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you want to specify the starting directory, you have to use the -new_console switch : &lt;code&gt;c:\dev\git\bin\sh.exe -cur_console:d:C:\www\github\ -login -i&lt;/code&gt; for example.&lt;/p&gt;

&lt;h3 id=&quot;starting-a-batch-file-in-a-new-console&quot;&gt;Starting a batch file in a new console&lt;/h3&gt;

&lt;p&gt;Depending on each program, for bash it’s the switch &lt;code&gt;-c&lt;/code&gt;.
So, assume i want to launch a Ruby pry console from the bash shell : &lt;code&gt;sh -new_console:d:C:\www -l -i -c &quot;pry&quot;&lt;/code&gt;.
You can do the same for a rails console, a rails server, a jekyll server …&lt;/p&gt;

&lt;h3 id=&quot;launch-several-windowed-consoles&quot;&gt;Launch several windowed consoles&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt;c:\dev\git\bin\sh.exe -cur_console:d:C:\www\github\traz.github.com -login -i
sh.exe -cur_console:s1TH:d:C:\www\github\traz.github.com -login -i -c &quot;jekyll serve&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;On the first line, I launch a git bash shell (with full route because it’s not in my PATH) with option -login -i, with a starting directory specified (:d switch)&lt;/p&gt;

&lt;p&gt;On the second line, I launch the Jekyll local server and with the switch &lt;code&gt;s1TH&lt;/code&gt; for (s)eparing the current (1)st one console in 2 (H)orizontal windows.&lt;/p&gt;

&lt;p&gt;The &lt;code&gt;&amp;gt;&lt;/code&gt; character select which console is active.&lt;/p&gt;

&lt;p&gt;So when the task is launch, I’ve got my Git shell and my local server up.&lt;/p&gt;

&lt;p&gt;Another example with Rails :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt;sh -cur_console:d:C:\www\red -l -i -c &quot;rails console&quot;
c:\dev\git\bin\sh.exe -cur_console:s1TH:d:C:\www\red -login -i
sh -cur_console:s2TV:d:C:\www\red -login -i -c &quot;rails server&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In this one, I’ve a got a PRY rails console (check the ‘pry-rails’ gem in gemfile), a Git shell, and the rails server up.&lt;/p&gt;

&lt;h3 id=&quot;attach--inside-&quot;&gt;Attach &amp;amp; Inside …&lt;/h3&gt;

&lt;p&gt;Lasts words : You can attach a program in ConEmu … try it, it’s surprising on the first time :) But it extend the tasks possibilities :&lt;/p&gt;

&lt;p&gt;Now in a new task, just put &lt;code&gt;&quot;C:\Program Files\Sublime Text 2\sublime_text.exe&quot; &lt;/code&gt; … and Yes ! you’ve got Sublime Text IN a tab console, working perfectly :) … you can test with other programs :)&lt;/p&gt;

&lt;p&gt;And for finish, you can do (it’s a testing feature I assume, there some nasty behaviors) the exact opposite : integrate ConEmu in a Windows Explorer ! First, register ConEmu in the Explorer context menu (it’s in tab Features / Integration in ConEmu), and second, right click in the explorer on ConMenu Inside :)&lt;/p&gt;

&lt;p&gt;&amp;lt;/br&amp;gt;    &lt;br /&gt;
&amp;gt;   &lt;br /&gt;
&amp;gt; 
&amp;gt; -&amp;gt;&lt;strong&gt;Update April 5 2013&lt;/strong&gt;&amp;lt;-
&amp;gt;
&amp;gt;    &lt;br /&gt;
&amp;lt;/br&amp;gt;     &lt;/p&gt;

&lt;h3 id=&quot;how-to-set-title-tab-and-starting-directory&quot;&gt;How to set title tab AND starting directory&lt;/h3&gt;

&lt;p&gt;Taking a look at the documentation, cur_console (and new_console) can’t take both options : set title tab (&lt;code&gt;:t:MyTitle&lt;/code&gt;) and set starting directory (&lt;code&gt;:d:C:\www\&lt;/code&gt; ie).&lt;/p&gt;

&lt;p&gt;But you can specify some options in &lt;em&gt;‘task parameter’&lt;/em&gt; : ie &lt;code&gt;/dir &quot;C:\www\&quot; &lt;/code&gt;. So you set your directory in the task parameters, and you can set your tab title in the commands panel.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;A big thanks again to the programmer of ConEmu !!!&lt;/strong&gt; &lt;/p&gt;

&lt;p&gt;Additional information : check :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://code.google.com/p/conemu-maximus5/&quot;&gt;http://code.google.com/p/conemu-maximus5/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://superuser.com/questions/tagged/conemu&quot;&gt;http://superuser.com/questions/tagged/conemu&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/tagged/conemu&quot;&gt;http://stackoverflow.com/questions/tagged/conemu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content> -->
 </entry>
 
 <entry>
   <title>Jekyll : Pygments, Markdown and Theming</title>
   <link href="http://traz.github.com/post/2013/jekyll_and_pygments"/>
   <updated>2013-03-20T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/jekyll_and_pygments</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#markdown--choosing-the-right-one&quot;&gt;Markdown : choosing the right one&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#jekyll--choosing-a-theme&quot;&gt;Jekyll : choosing a theme.&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#highlighting-some-code&quot;&gt;Highlighting some code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#some-git&quot;&gt;Some Git&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#update-du-april-10-2013&quot;&gt;Update du april 10, 2013&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;markdown--choosing-the-right-one&quot;&gt;Markdown : choosing the right one&lt;/h3&gt;

&lt;p&gt;So we’ve got rdiscount, maruku, redcarpet, redcloth and kramdown … (look at &lt;a href=&quot;https://www.ruby-toolbox.com/categories/markup_processors&quot;&gt;https://www.ruby-toolbox.com/categories/markup_processors&lt;/a&gt;) The last one, kramdown, seem to be the most active with lot of nice features (simplified code declaration, tables, …).&lt;/p&gt;

&lt;p&gt;But, after few try, the configuration Windows + Ruby 2.0 + Jekyll doesn’t work with any of them (problem with encoding : “incompatible encoding regexp match (UTF-8 regexp with CP850 string)” … i have to look further).&lt;/p&gt;

&lt;p&gt;Still work : the old rdiscount … Ok.&lt;/p&gt;

&lt;h3 id=&quot;jekyll--choosing-a-theme&quot;&gt;Jekyll : choosing a theme.&lt;/h3&gt;

&lt;p&gt;After few digs, i choose this one &lt;a href=&quot;https://github.com/caarlos0/up&quot;&gt;https://github.com/caarlos0/up&lt;/a&gt; : it’s simple, doesn’t have some features (tags, articles) but for the starting, it feet.&lt;/p&gt;

&lt;p&gt;Cloning it, changing the configuration and it’s ok (it come with Disqus, Gauge, Google analytic, … with a center configuration in &lt;em&gt;_config.yml&lt;/em&gt;).&lt;/p&gt;

&lt;h3 id=&quot;highlighting-some-code&quot;&gt;Highlighting some code&lt;/h3&gt;

&lt;p&gt;With pygments.rb. So : install the gem &lt;code&gt;gem i pygments.rb&lt;/code&gt; and … install Python ! Tried with Python 3, but Pygments doesn’t work with it (look at issues on Github), so installed Python 2.7 : work with no error, some hatml class generated … missing a css !!&lt;/p&gt;

&lt;p&gt;Digging again and found this solution : &lt;a href=&quot;http://www.stehem.net/2012/02/14/how-to-get-pygments-to-work-with-jekyll.html&quot;&gt;http://www.stehem.net/2012/02/14/how-to-get-pygments-to-work-with-jekyll.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For generating the css file, go to your pygments.rb gem folder &lt;em&gt;C:\Ruby200\lib\ruby\gems\2.0.0\gems\pygments.rb-0.4.2\vendor\pygments-main&lt;/em&gt; and launch :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    pygmentize -S default -f html &amp;gt; pygments.css
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Copy the css file into your jekyll css directory, declare it in the layout, &lt;code&gt;&amp;lt;link href=&quot;/css/pygments.css&quot; rel=&quot;stylesheet&quot;&amp;gt;&lt;/code&gt; and this time all is done :)&lt;/p&gt;

&lt;p&gt;For highlighting some code, you must embrace him with a &lt;code&gt;{ % highlight lexer_name % }&lt;/code&gt; starting block and finish it with a &lt;code&gt;{ % endhighlight % }&lt;/code&gt; block (remove the space between { or } and % for proper work). You’ve got plenty of lexer : ruby, irb, bash, bat … check &lt;a href=&quot;http://pygments.org/docs/lexers/&quot;&gt;http://pygments.org/docs/lexers/&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Feel free to look in deep at this github repository.&lt;/p&gt;

&lt;h3 id=&quot;some-git&quot;&gt;Some Git&lt;/h3&gt;

&lt;p&gt;Before sending your pages to Github, check them in local with &lt;code&gt;jekyll serve&lt;/code&gt; : if there are some syntax error, you’ll find them quickly (on other side, the page with error isn’t displayed and there are no warning …)
Simply :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    git add .
    git comit -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;my commit&amp;#39;&lt;/span&gt;
    git push origin master
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;update-du-april-10-2013&quot;&gt;Update du april 10, 2013&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;The last release of Jekyll have change the config key &lt;code&gt;auto=...&lt;/code&gt; to &lt;code&gt;watch=...&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;The &lt;code&gt;jekyll build&lt;/code&gt; command stay up, watching the directory … the solution : set the config key watch to false and launch the server : &lt;code&gt;jekyll serve --watch&lt;/code&gt;. &lt;/li&gt;
  &lt;li&gt;Check the pygments options : &lt;a href=&quot;http://pygments.org/docs/formatters/&quot;&gt;http://pygments.org/docs/formatters/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Better irb : PRY !</title>
   <link href="http://traz.github.com/post/2013/Pry"/>
   <updated>2013-03-12T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Pry</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#better-irb---a-pry-test&quot;&gt;Better IRB - a PRY test&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#pry---basic-stuff&quot;&gt;PRY - basic stuff&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#pry-plugins&quot;&gt;Pry Plugins&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configure-rails-with-pry&quot;&gt;Configure Rails with Pry&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#pry-tips&quot;&gt;PRY Tips&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#looksee-gem&quot;&gt;Looksee gem&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#my-pryrc&quot;&gt;My .pryrc&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;better-irb---a-pry-test&quot;&gt;Better IRB - a PRY test&lt;/h3&gt;

&lt;p&gt;Install &lt;code&gt;gem i pry&lt;/code&gt;. When you launch it, you’ve warned by some readline missing gem. But take a look at &lt;a href=&quot;https://github.com/luislavena/rb-readline/issues/81&quot;&gt;this bug&lt;/a&gt; … the new version of rb-readline (0.5.pre) is not available (&lt;code&gt;gem list -r rb-readline -a&lt;/code&gt;). So :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;clone the depot &lt;code&gt;git clone https://github.com/luislavena/rb-readline.git&lt;/code&gt; somewhere&lt;/li&gt;
  &lt;li&gt;just launch &lt;code&gt;ruby setup.rb&lt;/code&gt; in this cloned directory (you can drop the clone after, and don’t install the gem for now, you’ll get some nasty bugs …) : some fresh readline library will be copied on your ruby 2.0 installation.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And it’s done (except for the warning “DL depreciated …”). Don’t bother for the win32console message, your ANSICON is working (test it : &lt;code&gt;test-ansi&lt;/code&gt; in your pry shell)&lt;/p&gt;

&lt;h3 id=&quot;pry---basic-stuff&quot;&gt;PRY - basic stuff&lt;/h3&gt;

&lt;p&gt;First, don’t forget tab and double tab completion !&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;help&lt;/code&gt; for a list of common command&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;wtf?&lt;/code&gt; … for the last plantage :)&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;cd Array&lt;/code&gt; change the binding for Array class &lt;code&gt;ls&lt;/code&gt; list method from the binding &lt;code&gt;cd ..&lt;/code&gt; back to the main binding (take a look further at &lt;em&gt;looksee gem&lt;/em&gt; also) and &lt;code&gt;nesting&lt;/code&gt;for view where we’re from ; very useful for Rails &lt;a href=&quot;http://railscasts.com/episodes/280-pry-with-rails?view=asciicast&quot;&gt;railscast&lt;/a&gt; &lt;/li&gt;
  &lt;li&gt;&lt;code&gt;simple-prompt&lt;/code&gt; for toggle prompt&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;hist -tail 5&lt;/code&gt; : list last commands ; &lt;code&gt;hist --grep try&lt;/code&gt; for listing command with try and &lt;code&gt;hist --replay 70..72&lt;/code&gt; for replaying lines 70 to 72 (work fine with just one line too)&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;.ls .pwd .mkdir ...&lt;/code&gt; : you can access directly to all bash / dos command with a dot prefix ; another example (from pry wiki page) how to use ruby variables in shell command : &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;irb&quot;&gt;&lt;span class=&quot;go&quot;&gt;    pry(main)&amp;gt; x = &amp;quot;[mM]&amp;quot;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;    =&amp;gt; &amp;quot;[mM]&amp;quot;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;    pry(main)&amp;gt; .ls | grep #{x}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;find-method history&lt;/code&gt; : to find a method declared in charged gems, add &lt;code&gt;-c&lt;/code&gt; arg option to see who’s calling this method&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;cat GemFile -l -s 10&lt;/code&gt; : show the file with -l line number, starting from -s the 10th line. Remember you’re under some improved cat command for navigation around the file (q for quit, … )&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;gem-cd rails&lt;/code&gt; : the gem-cd command change the directory directly to the gem’s one.&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;__out[23]__&lt;/code&gt; : use the output result from the 23th command (&lt;code&gt;__in[23]__&lt;/code&gt; for the input command)&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;edit myfile.rb&lt;/code&gt; launch your editor ; now when you test ie &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hello&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;hi !&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;you can use &lt;code&gt;edit hello&lt;/code&gt;for invoking your editor upon your method, or just &lt;code&gt;edit -t&lt;/code&gt; for invoking a temp file&lt;/p&gt;

&lt;h3 id=&quot;pry-plugins&quot;&gt;Pry Plugins&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    gem i &lt;span class=&quot;s1&quot;&gt;&amp;#39;pry-theme&amp;#39;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and in &lt;em&gt;.pryrc&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;railscasts&amp;quot;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;you can change on the fly in Pry with &lt;code&gt;pry-theme try _themename_&lt;/code&gt;
Note that some theme are in 256 colors … and they don’t work well with windows, so no railscast theme running for the moment …&lt;/p&gt;

&lt;h3 id=&quot;configure-rails-with-pry&quot;&gt;Configure Rails with Pry&lt;/h3&gt;

&lt;p&gt;Install the gem in the &lt;em&gt;gemfile&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    gem i &lt;span class=&quot;s1&quot;&gt;&amp;#39;pry-rails&amp;#39;&lt;/span&gt;, :group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;gt;development
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Usage :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;routes&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;routes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;new&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;models&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;pry-tips&quot;&gt;PRY Tips&lt;/h3&gt;

  &lt;p&gt;If you want a quiet return (don’t show the result), just put a &lt;code&gt;;&lt;/code&gt; at the end of the pry line, ie :&lt;/p&gt;

  &lt;pre&gt;&lt;code&gt;  User.first
&lt;/code&gt;&lt;/pre&gt;

  &lt;p&gt;vs&lt;/p&gt;

  &lt;pre&gt;&lt;code&gt;  User.first;
&lt;/code&gt;&lt;/pre&gt;

  &lt;p&gt;Usefull when calling a method formatting a result …&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;looksee-gem&quot;&gt;Looksee gem&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;gem i looksee
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;in &lt;em&gt;.pryrc&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;require &#39;looksee&#39; Usage :

&amp;gt;[].ls
&amp;gt;[].ls /^to/
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;my-pryrc&quot;&gt;My .pryrc&lt;/h3&gt;

&lt;p&gt;From several sources. I’ve try to colorize the prompt, but i still have a got a small bug.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;auto_indent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;editor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;vim&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;history&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;~/pry_history&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hooks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_hook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:before_session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:say_hi_traz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Hi Traz !&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Ruby&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;RUBY_VERSION&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hooks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_hook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:after_session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:say_bye_traz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;bye-bye Traz !&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

     
    &lt;span class=&quot;c1&quot;&gt;# color = {&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# :red =&amp;gt; &amp;quot;31m&amp;quot;,&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# :green =&amp;gt; &amp;quot;32m&amp;quot;,&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# :yellow =&amp;gt; &amp;quot;33m&amp;quot;,&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# :blue =&amp;gt; &amp;quot;34m&amp;quot;,&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# :purple =&amp;gt; &amp;quot;35m&amp;quot;,&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# :cyan =&amp;gt; &amp;quot;36m&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# }&lt;/span&gt;

    &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;
                  &lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target_self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
                        &lt;span class=&quot;s2&quot;&gt;&amp;quot;[&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input_array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0;32m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0;33m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;view_clip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target_self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;:&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zero?&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;gt; &amp;quot;&lt;/span&gt;
                       &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
                  &lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target_self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
                        &lt;span class=&quot;s2&quot;&gt;&amp;quot;[&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input_array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[1;32m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prompt_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[1;33m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;view_clip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target_self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\001\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\002&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;:&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nest_level&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zero?&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;* &amp;quot;&lt;/span&gt;
                       &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                  &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;rubygems&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;looksee&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# theme on win work only with 8 and 16 colors&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Pry.config.theme = &amp;quot;railscasts&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;awesome_print&amp;#39;&lt;/span&gt; 
      &lt;span class=&quot;no&quot;&gt;AwesomePrint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pry!&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;#Pry.config.print = proc { |output, value| output.puts value.ai }&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LoadError&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;no awesome_print :(&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;# require &amp;#39;wirble&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Wirble.init&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Wirble.colorize&lt;/span&gt;



    &lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;hirb&amp;#39;&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LoadError&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Missing goodies, bummer&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
     
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defined?&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Hirb&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Dirty hack to support in-session Hirb.disable/enable&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;Hirb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:View&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;instance_eval&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;enable_output_method&lt;/span&gt;
          &lt;span class=&quot;vi&quot;&gt;@output_method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
          &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
          &lt;span class=&quot;ss&quot;&gt;Hirb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:View&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;view_or_page_output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:DEFAULT_PRINT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
       
        &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;disable_output_method&lt;/span&gt;
          &lt;span class=&quot;no&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;proc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;Pry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:DEFAULT_PRINT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;vi&quot;&gt;@output_method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
       
      &lt;span class=&quot;no&quot;&gt;Hirb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;enable&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Shells  (Mingw / Msys) : DevKit Git</title>
   <link href="http://traz.github.com/post/2013/DevKit-and-Git"/>
   <updated>2013-03-11T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/DevKit-and-Git</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#shells-versions&quot;&gt;Shells versions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#shell-personnalisation&quot;&gt;Shell personnalisation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#vi--vim--gvim&quot;&gt;VI / VIM / GVIM&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;shells-versions&quot;&gt;Shells versions&lt;/h3&gt;

&lt;p&gt;Once you’d installed the basics, you’ve got 2 shells : one on &lt;em&gt;/devkit&lt;/em&gt; and one on &lt;em&gt;/git&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;It may cause some conflict (different version, different tools …). So, i choose to drop the Git shell from th ePATH environment variable (&lt;em&gt;c:/dev/git/bin&lt;/em&gt;) but keep the path for git command (&lt;em&gt;c:/dev/git/cmd&lt;/em&gt;) : you can run the both shell (the git one can have autocompletion on git command, plus a nice PS1), but the Devkit shell is the default one.&lt;/p&gt;

&lt;h3 id=&quot;shell-personnalisation&quot;&gt;Shell personnalisation&lt;/h3&gt;

&lt;p&gt;On Windows you’ve got a standard home path, but it’s too easy to become a piece of trash with other win programs …&lt;/p&gt;

&lt;p&gt;So I’d try in first to set up a new home directory for all bash shell : &lt;em&gt;c:/dev/home&lt;/em&gt;, but in final there too many tools or gem who did or didn’t respect this, and I revert $HOME to windows $USERPROFILE. So, I’d just puts some modification on profile file from the both shell (&lt;em&gt;c:/dev/devkit/etc/profile&lt;/em&gt; and &lt;em&gt;c:/dev/git/etc/profile&lt;/em&gt;)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    &lt;span class=&quot;nv&quot;&gt;HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$USERPROFILE&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;$(cd &amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot; ; pwd)&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;HISTFILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.bash_history

    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Chek also &lt;em&gt;/etc/fstab&lt;/em&gt; for some personal mount.&lt;/p&gt;

&lt;h3 id=&quot;vi--vim--gvim&quot;&gt;VI / VIM / GVIM&lt;/h3&gt;

&lt;p&gt;VIM is useful with quick simple edit, but is not bundle with DevKit (only with Git). So go to the &lt;a href=&quot;http://www.vim.org&quot;&gt;VIM web site&lt;/a&gt;, download and install it (as usual, in c:/dev/…). It put some .BAT file directly under c:/windows … but those aren’t accessible when you run your shell (only under DOS prompt). So, just add &lt;em&gt;c:/dev/vim/vim73&lt;/em&gt; to your PATH variable, and check it :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    sh -l -i
    vim
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

</content> -->
 </entry>
 
 <entry>
   <title>Git</title>
   <link href="http://traz.github.com/memos/2013/memo-Git"/>
   <updated>2013-03-10T00:00:00+11:00</updated>
   <id>http://traz.github.com/memos/2013/memo-Git</id>
<!--    <content type="html">&lt;h3 id=&quot;basic&quot;&gt;Basic&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;git init

git status # list of modifications
git add .  # add all change 
git commit -m &quot;message&quot; # save all change    
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;remote--local&quot;&gt;Remote &amp;amp; local&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;git remote -v # list dépots

git branch # list all branch
git checkout -b branch_name # create a new branch and use it
git checkout master # change to branch master
git branch -a # list all branch, local and remote
git branch -d branch_name # delete branch_name
git push origin branch_name # puts the branch to the distant depot
git push origin master # puts the modification to the distant depot
git merge branch_name # fusion with master and branch_name

git tag tag_name # create a new tag

git log # show the log
git log --oneline -2 # last 2 commit
git log -1 --pretty=%B # last commit message
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;a-better-git-log--aliasing-command&quot;&gt;A better git log : aliasing command&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;git lg
git lgf
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;classics-alias&quot;&gt;Classics alias&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;st = status -s
cl = clone
ci = commit
co = checkout
br = branch 
logtree = log --graph --oneline --decorate --all
changes = diff --name-status
ll = log --stat --abbrev-commit
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;git-tag&quot;&gt;Git tag&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;git tag v0.1.2
git push origin --tags # publish all tags on remote
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;how-to-discard-all-deleted-files-since-last-commit-&quot;&gt;How to discard all deleted files since last commit :&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;git add -u
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;how-to-discard-all-change-since-the-last-commit-&quot;&gt;How to discard all change since the last commit :&lt;/h3&gt;

&lt;p&gt;First discard modified files :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git checkout -- .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And discard the new untracked files (first with -n just for checking, and for real without it)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clean -f -d -n 
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;useful-git-links&quot;&gt;Useful git links&lt;/h3&gt;

&lt;p&gt;Check this one :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://nvie.com/posts/a-successful-git-branching-model/&quot;&gt;http://nvie.com/posts/a-successful-git-branching-model/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://durdn.com/blog/2012/11/22/must-have-git-aliases-advanced-examples/&quot;&gt;http://durdn.com/blog/2012/11/22/must-have-git-aliases-advanced-examples/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://git.wiki.kernel.org/index.php/Aliases#Advanced_aliases_with_arguments&quot;&gt;https://git.wiki.kernel.org/index.php/Aliases#Advanced_aliases_with_arguments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Starting Git</title>
   <link href="http://traz.github.com/post/2013/Git"/>
   <updated>2013-03-10T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Git</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#create-your-fist-local-depot&quot;&gt;Create your fist local depot&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#first-some-commands-&quot;&gt;First, some commands :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#windows-explorer-integration--disable-contextual-menu&quot;&gt;Windows explorer integration : disable contextual menu&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#a-better-git-log--aliasing-command&quot;&gt;A better git log : aliasing command&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#classic-alias-take-from-several-pages&quot;&gt;Classic alias (take from several pages)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#git-completion&quot;&gt;Git completion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#config-tips&quot;&gt;Config Tips&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#git-tag&quot;&gt;Git tag&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#how-to-discard-all-change-since-the-last-commit-&quot;&gt;How to discard all change since the last commit :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#create-a-new-rails-4-app-&quot;&gt;Create a new Rails 4 app :&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#and-first-commit-in-git&quot;&gt;And first commit in Git&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#useful-git-links&quot;&gt;Useful git links&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;create-your-fist-local-depot&quot;&gt;Create your fist local depot&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    mkdir red
    &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;red
    git init
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;first-some-commands-&quot;&gt;First, some commands :&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    git status &lt;span class=&quot;c&quot;&gt;# list of modifications&lt;/span&gt;
    git add .  &lt;span class=&quot;c&quot;&gt;# add all change &lt;/span&gt;
    git commit -m &lt;span class=&quot;s2&quot;&gt;&amp;quot;message&amp;quot;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# save all change&lt;/span&gt;

    git remote -v &lt;span class=&quot;c&quot;&gt;# list dépots&lt;/span&gt;

    git branch &lt;span class=&quot;c&quot;&gt;# list all branch&lt;/span&gt;
    git checkout -b branch_name &lt;span class=&quot;c&quot;&gt;# create a new branch and use it&lt;/span&gt;
    git checkout master &lt;span class=&quot;c&quot;&gt;# change to branch master&lt;/span&gt;
    git branch -a &lt;span class=&quot;c&quot;&gt;# list all branch, local and remote&lt;/span&gt;
    git branch -d branch_name &lt;span class=&quot;c&quot;&gt;# delete branch_name&lt;/span&gt;
    git push origin branch_name &lt;span class=&quot;c&quot;&gt;# puts the branch to the distant depot&lt;/span&gt;
    git push origin master &lt;span class=&quot;c&quot;&gt;# puts the modification to the distant depot&lt;/span&gt;
    git merge branch_name &lt;span class=&quot;c&quot;&gt;# fusion with master and branch_name&lt;/span&gt;

    git tag tag_name &lt;span class=&quot;c&quot;&gt;# create a new tag&lt;/span&gt;

    git log &lt;span class=&quot;c&quot;&gt;# show the log&lt;/span&gt;
    git log --oneline -2 &lt;span class=&quot;c&quot;&gt;# last 2 commit&lt;/span&gt;
    git log -1 --pretty&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;%B &lt;span class=&quot;c&quot;&gt;# last commit message&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;windows-explorer-integration--disable-contextual-menu&quot;&gt;Windows explorer integration : disable contextual menu&lt;/h3&gt;

&lt;p&gt;Context menu in explorer are too long, and since i use only command line for git, let’s do this :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd \Git\git-cheetah
regsvr32 /u git_shell_ext.dll
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;a-better-git-log--aliasing-command&quot;&gt;A better git log : aliasing command&lt;/h3&gt;

&lt;p&gt;From &lt;a href=&quot;https://coderwall.com/p/euwpig?i=3&amp;amp;p=1&amp;amp;t=git&quot;&gt;https://coderwall.com/p/euwpig?i=3&amp;amp;p=1&amp;amp;t=git&lt;/a&gt;, the command is : &lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git log --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&amp;lt;%an&amp;gt;%Creset&#39; --abbrev-commit
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can add a git alias for this :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git config --global alias.lg &quot;log --color --graph --pretty=format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&amp;lt;%an&amp;gt;%Creset&#39; --abbrev-commit&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And now use it with a simple &lt;code&gt;git lg&lt;/code&gt; or &lt;code&gt;git lg -1&lt;/code&gt; for just the last log :)&lt;/p&gt;

&lt;p&gt;In the same way, this alias list all file modified by commit :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git config --global alias.lgf &quot;log --pretty=format:&#39;%Cred%h%Creset%d - %C(yellow)%s%C(bold blue) &amp;lt;%cn&amp;gt;&#39; --decorate --numstat&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Use it : &lt;code&gt;git lgf -3&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;classic-alias-take-from-several-pages&quot;&gt;Classic alias (take from several pages)&lt;/h3&gt;

&lt;p&gt;You can manage your alias more easly in editing the [alias] section in your &lt;em&gt;.gitconfig&lt;/em&gt; file.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;st = status -s
cl = clone
ci = commit
co = checkout
br = branch 
logtree = log --graph --oneline --decorate --all
changes = diff --name-status
ll = log --stat --abbrev-commit
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;git-completion&quot;&gt;Git completion&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;Don’t forget useful git completion help !
just test it : &lt;code&gt;git stat&amp;lt;tab&amp;gt;&lt;/code&gt; for completion or &lt;code&gt;git sta&amp;lt;tab&amp;gt;&amp;lt;tab&amp;gt;&lt;/code&gt; for a list of available commands.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;config-tips&quot;&gt;Config Tips&lt;/h3&gt;

&lt;p&gt;Working on windows, publishing on github, you can have sometime problem with case filename management.&lt;/p&gt;

&lt;p&gt;So, change the case config :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git config core.ignorecase false
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;git-tag&quot;&gt;Git tag&lt;/h3&gt;

&lt;p&gt;Easy way : just :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git tag v0.1.2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt; : By default, the git push command doesn’t transfer tags to remote servers (see &lt;a href=&quot;http://git-scm.com/book/en/Git-Basics-Tagging&quot;&gt;http://git-scm.com/book/en/Git-Basics-Tagging&lt;/a&gt;). Transfer by  :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git push origin --tags
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;how-to-discard-all-change-since-the-last-commit-&quot;&gt;How to discard all change since the last commit :&lt;/h3&gt;

&lt;p&gt;First discard modified files :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git checkout -- .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And discard the new untracked files (first with -n just for checking, and for real without it)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clean -f -d -n 
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;create-a-new-rails-4-app-&quot;&gt;Create a new Rails 4 app :&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /c/www
    rails new red -B  &lt;span class=&quot;c&quot;&gt;# don&amp;#39;t check the gem library now&lt;/span&gt;
    bundle check
    bundle install --local
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;and-first-commit-in-git&quot;&gt;And first commit in Git&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;    git status
    git add --all
    git status
    git commit -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;initial commit, rails empty&amp;#39;&lt;/span&gt;
    git tag v0.0 -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;initial version&amp;#39;&lt;/span&gt;
    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;useful-git-links&quot;&gt;Useful git links&lt;/h3&gt;

&lt;p&gt;Check this one :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://nvie.com/posts/a-successful-git-branching-model/&quot;&gt;http://nvie.com/posts/a-successful-git-branching-model/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://durdn.com/blog/2012/11/22/must-have-git-aliases-advanced-examples/&quot;&gt;http://durdn.com/blog/2012/11/22/must-have-git-aliases-advanced-examples/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://git.wiki.kernel.org/index.php/Aliases#Advanced_aliases_with_arguments&quot;&gt;https://git.wiki.kernel.org/index.php/Aliases#Advanced_aliases_with_arguments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Rails 4, Ruby 2.0 and SQLite3</title>
   <link href="http://traz.github.com/post/2013/SQlite3"/>
   <updated>2013-03-06T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/SQlite3</id>
<!--    <content type="html">&lt;p&gt;After your successful Rails 4 install, you can’t run it (&lt;code&gt;rails server&lt;/code&gt;), because your SQLite3 isn’t compatible with Ruby 2 yet.&lt;/p&gt;

&lt;p&gt;Checking Google, I’ve found this : &lt;a href=&quot;https://groups.google.com/forum/#!topic/rubyinstaller/gedIaMryCFQ/discussion&quot;&gt;https://groups.google.com/forum/#!topic/rubyinstaller/gedIaMryCFQ/discussion&lt;/a&gt; and this &lt;a href=&quot;https://gist.github.com/luislavena/5120722&quot;&gt;https://gist.github.com/luislavena/5120722&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So,&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;uninstall the sqlite3 gem for cleaning : &lt;code&gt;gem uni sqlite3&lt;/code&gt; &lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;download the knapsack found in the discussion, and place it in a temp repertory (ie &lt;em&gt;c:/dev/temp&lt;/em&gt;). &lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;compile sqlite3 with the knapsack &lt;code&gt;gem install sqlite3 --platform=ruby -- --with-opt-dir=C:/dev/temp&lt;/code&gt; &lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Test it :&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;irb&quot;&gt;&lt;span class=&quot;go&quot;&gt;    irb&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;    require &amp;#39;sqlite3&amp;#39;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;    SQLite3::SQLITE_VERSION` =&amp;gt; &amp;quot;3.7.15.2&amp;quot;&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;    &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You’re good :) Thanks Luis.&lt;/p&gt;

&lt;p&gt;PS : often Rails need to update some gem, but if you want to keep some special gem (like this sqlite3), don’t use &lt;code&gt;bundle update&lt;/code&gt; but &lt;code&gt;bundle update --local&lt;/code&gt; and install manually missing gem. &lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Installation from scratch : Ruby 2.0.0 under Windows</title>
   <link href="http://traz.github.com/post/2013/Installation"/>
   <updated>2013-03-05T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2013/Installation</id>
<!--    <content type="html">&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#console2-200b147&quot;&gt;Console2 2.00b147&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configure-path-for-ntlm-proxy&quot;&gt;Configure PATH for NTLM Proxy&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ansicon-160&quot;&gt;Ansicon 1.60&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ruby-20&quot;&gt;Ruby 2.0&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#devkit-472&quot;&gt;DevKit 4.7.2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sublimetext2&quot;&gt;SublimeText2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configure-st2&quot;&gt;Configure ST2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install-the-package-manager-st2&quot;&gt;Install the Package Manager ST2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#install-some-plugins-for-st2&quot;&gt;Install some plugins for ST2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#git&quot;&gt;GIT&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sqlite3-37152&quot;&gt;SQLite3 3.7.15.2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#your-ruby-library--gem&quot;&gt;Your Ruby library : GEM&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#and-finaly-rails-4-&quot;&gt;And finaly Rails 4 !!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;First set up some tools. Console2 was for longtime my shell manager, but i’ve discovered recently ConEmu which has more pretty options.&lt;/p&gt;

&lt;h3 id=&quot;console2-200b147&quot;&gt;Console2 2.00b147&lt;/h3&gt;
&lt;p&gt;Download &lt;a href=&quot;http://sourceforge.net/projects/console/&quot;&gt;Console2&lt;/a&gt;. You’ll need to install ANSICON for managing colors (ConEmu do not need ANSICON), see below.&lt;/p&gt;

&lt;h3 id=&quot;configure-path-for-ntlm-proxy&quot;&gt;Configure PATH for NTLM Proxy&lt;/h3&gt;
&lt;p&gt;In case you’re under some NTLM Proxy, you’ll need to set some variables :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bat&quot;&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;HTTP_PROXY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http:&lt;span class=&quot;n&quot;&gt;//proxy.adress:proxy_port&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;HTTP_PROXY_USER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;userxxx
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;HTTP_PROXY_PASS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;passwordxxxx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;I used to centralize all my install into one directory &lt;em&gt;c:/dev&lt;/em&gt; and puts all single .exe or .dll under &lt;em&gt;c:/dev/bin&lt;/em&gt; and put those in PATH (ie : for SQLite3 dll and exe, LAME library, ffmpeg, …).&lt;/p&gt;

&lt;h3 id=&quot;ansicon-160&quot;&gt;Ansicon 1.60&lt;/h3&gt;
&lt;p&gt;For nice console output : &lt;a href=&quot;https://github.com/adoxa/ansicon/downloads&quot;&gt;Ansicon&lt;/a&gt;. Download it and put the file under &lt;em&gt;c:/dev/bin&lt;/em&gt;.
You can register it for automatic launch in each console : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bat&quot;&gt;ansicon -i
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ConEmu doesn’t use Ansicon.&lt;/p&gt;

&lt;h3 id=&quot;ruby-20&quot;&gt;Ruby 2.0&lt;/h3&gt;
&lt;p&gt;Download and install Ruby 2.0 : &lt;a href=&quot;http://rubyinstaller.org/&quot;&gt;RubyInstaller for Windows&lt;/a&gt; (under &lt;em&gt;c:/ruby200&lt;/em&gt;). Check it : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bat&quot;&gt;ruby -v
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;devkit-472&quot;&gt;DevKit 4.7.2&lt;/h3&gt;

&lt;p&gt;Download also on RubyInstaller for Windows the right DevKit (version 4.7.2, 32 or 64 bits) and install it under &lt;em&gt;c:/dev/devkit&lt;/em&gt;.
Check the PATH :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bat&quot;&gt; 
&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; PATH
&amp;gt;&amp;gt;... c:&lt;span class=&quot;n&quot;&gt;/dev/devkit/bin&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And test the first Unix commands : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;sh --login
ls -l
&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The home directory is &lt;em&gt;c:/dev/devkit/home/(user)&lt;/em&gt;. I’ve created a &lt;em&gt;.profile&lt;/em&gt; file here for configuring some alias : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ls&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;ls --color&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;ls -l&amp;#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;which&amp;#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;exit&amp;#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;st&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;C:/&amp;#39;Program Files&amp;#39;/&amp;#39;Sublime Text 2&amp;#39;/sublime_text.exe&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;sublimetext2&quot;&gt;SublimeText2&lt;/h3&gt;
&lt;p&gt;Download and install it &lt;a href=&quot;http://www.sublimetext.com/2&quot;&gt;SublimeText2&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;configure-st2&quot;&gt;Configure ST2&lt;/h3&gt;
&lt;p&gt;In menu preferences / Setting - Default, some modifications&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&quot;font_face&quot;: &quot;Consolas&quot;,
&quot;font_size&quot;: 10.0,
&quot;tab_size&quot;: 2,
&quot;translate_tabs_to_spaces&quot;: true,
&quot;folder_exclude_patterns&quot;: [&quot;.svn&quot;,&quot;.keep&quot;, &quot;.gitignore&quot;, &quot;.git&quot;, &quot;.hg&quot;, &quot;CVS&quot;]&amp;gt; 
&quot;file_exclude_patterns&quot;: [&quot;*.pyc&quot;, &quot;*.pyo&quot;, &quot;*.exe&quot;, &quot;*.dll&quot;, &quot;*.obj&quot;,&quot;*.o&quot;, &quot;*.a&quot;, &quot;*.lib&quot;, &quot;*.so&quot;, &quot;*.dylib&quot;, &quot;*.ncb&quot;, &quot;*.sdf&quot;, &quot;*.suo&quot;, &quot;*.pdb&quot;, &quot;*.idb&quot;, &quot;.DS_Store&quot;, &quot;*.class&quot;, &quot;*.psd&quot;, &quot;*.db&quot;],
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;install-the-package-manager-st2&quot;&gt;Install the Package Manager ST2&lt;/h3&gt;
&lt;p&gt;SublimeText has many usefull plugins, and a good package manager. Follow the instructions under &lt;a href=&quot;http://wbond.net/sublime_packages/package_control&quot;&gt;Sublime package control&lt;/a&gt; for the installation.
If you’re under a proxy, change your settings : Preferences / Package setting / Package control / Setting - Default :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&quot;http_proxy&quot;: &quot;http://proxy.name:port&quot;,
&quot;proxy_username&quot;: &quot;&quot;,
&quot;proxy_password&quot;: &quot;&quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;install-some-plugins-for-st2&quot;&gt;Install some plugins for ST2&lt;/h3&gt;
&lt;p&gt;Check the community site for the packages : &lt;a href=&quot;http://wbond.net/sublime_packages/community&quot;&gt;community package control&lt;/a&gt;, and try them :)&lt;/p&gt;

&lt;p&gt;For SublimeTODO package, change the settings (menu preferences / setting user), ie :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&quot;todo&quot;:
{
  &quot;case_sensitive&quot;: true,
  &quot;file_exclude_patterns&quot;:
  [
    &quot;*.css&quot;,
    &quot;*.po&quot;,
    &quot;*.mo&quot;
  ],
  &quot;folder_exclude_patterns&quot;:
  [
    &quot;static&quot;,
    &quot;vendor&quot;,
    &quot;tmp&quot;
  ],
  &quot;patterns&quot;:
  {
    &quot;BUG&quot;: &quot;BUG[\\s]*?:+(?P&amp;lt;bug&amp;gt;.*)$&quot;,
    &quot;TEST&quot;: &quot;TEST[\\s]*?:+(?P&amp;lt;test&amp;gt;.*)$&quot;
  },
  &quot;result_title&quot;: &quot;TODO Results list&quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;git&quot;&gt;GIT&lt;/h3&gt;
&lt;p&gt;Some good reading link (fr/eng) for starting : &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://rogerdudler.github.com/git-guide/index.fr.html&quot;&gt;http://rogerdudler.github.com/git-guide/index.fr.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.siteduzero.com/tutoriel-3-254198-gerez-vos-codes-source-avec-git.html&quot;&gt;http://www.siteduzero.com/tutoriel-3-254198-gerez-vos-codes-source-avec-git.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.pierreschambacher.com/blog/git-in-a-nutshell/&quot;&gt;http://www.pierreschambacher.com/blog/git-in-a-nutshell/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://git-scm.com/book&quot;&gt;http://git-scm.com/book&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In first, install &lt;a href=&quot;http://git-scm.com/downloads&quot;&gt;GIT for Windows&lt;/a&gt; under &lt;em&gt;c:/dev/git&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Configure Console2 for the git bash shell :(console settings / tabs) :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Title : Git&lt;/li&gt;
  &lt;li&gt;Icon : c:/dev/git/etc/git.ico&lt;/li&gt;
  &lt;li&gt;Shell : C:\WINDOWS\system32\cmd.exe /c ““C:\Dev\Git\bin\sh.exe” –login -i”&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You can either configure ConEmu with the same command line.&lt;/p&gt;

&lt;p&gt;Launch a new shell and check :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;git config -l
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and eventually modify them&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;git config –-global user.name xxx
git config –-global user.email xxx@xxx.com
git config --global core.editor vim
git config color.ui &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;
git config format.pretty oneline
git config --global http.proxy http://user:password@proxy.adress:port
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Check again : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;git config --list &lt;span class=&quot;c&quot;&gt;# pour vérifier&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can use SublimeText as Git editor : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;git config --global core.editor &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;#39;c:/program files/sublime text 2/sublime_text.exe&amp;#39; -w&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;sqlite3-37152&quot;&gt;SQLite3 3.7.15.2&lt;/h3&gt;
&lt;p&gt;Go on &lt;a href=&quot;http://www.sqlite.org/download.html&quot;&gt;SQLite&lt;/a&gt; and download ‘precompiled binaries for windows’ : 
- sqlite-dll-win32-x86-…zip : the dll 
- sqlite-shell-win32-x86-…zip : the shell SQLite&lt;/p&gt;

&lt;p&gt;Copy all of them under &lt;em&gt;c:/dev/bin&lt;/em&gt; (so they are in the PATH) and test : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sqlite3&quot;&gt;&lt;span class=&quot;go&quot;&gt;sqlite3&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;.help&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;.quit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;your-ruby-library--gem&quot;&gt;Your Ruby library : GEM&lt;/h3&gt;
&lt;p&gt;First update : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;gem update --system
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And the others : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;gem update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;and-finaly-rails-4-&quot;&gt;And finaly Rails 4 !!&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;gem install rails --version 4.0.0.beta1 --no-ri --no-rdoc
rails -v
rails server -p 80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And … normally you’ll get some nasty bug here from SQLite3 :) Don’t worry, check the next article.&lt;/p&gt;

</content> -->
 </entry>
 
 <entry>
   <title>Kaminari</title>
   <link href="http://traz.github.com/post/2012/kaminari"/>
   <updated>2012-09-02T00:00:00+11:00</updated>
   <id>http://traz.github.com/post/2012/kaminari</id>
<!--    <content type="html">&lt;p&gt;generate Kaminari files :&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;rails g kaminari:config
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;As Kaminari’s paginating scope is just an ordinal AR scope, you can do that in quite natural way.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;Book&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;published_at&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;per&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Of course default_scope works great with Kaminari for this purpose.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Book&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:Base&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;default_scope&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;published_at&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;see &lt;a href=&quot;https://github.com/amatsuda/kaminari#creating-friendly-urls-and-caching&quot;&gt;friendly url&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;resources&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:my_resources&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;page/:page&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:action&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:on&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:collection&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;views : &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;sh&quot;&gt;rails g kaminari:views default -e haml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;see &lt;a href=&quot;http://www.funonrails.com/2011/12/twitter-bootstrap-paginate-and-rails-3.html&quot;&gt;bootstrap adaptation&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;adapt-to-bootstrap&quot;&gt;adapt to bootstrap&lt;/h1&gt;

&lt;p&gt;Generate view and replace %span by %ul and %li, and in current page, replace link_to_unless by link_to.&lt;/p&gt;
</content> -->
 </entry>
 
 <entry>
   <title>Dates</title>
   <link href="http://traz.github.com/memos/2012/memo-railsdate"/>
   <updated>2012-09-01T00:00:00+11:00</updated>
   <id>http://traz.github.com/memos/2012/memo-railsdate</id>
<!--    <content type="html">&lt;p&gt;i.e. : &lt;code&gt;@comment.created_at.strftime(&quot;%d %b %y&quot;)&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;%a - The abbreviated weekday name (&#39;&#39;Sun&#39;&#39;)
%A - The  full  weekday  name (&#39;&#39;Sunday&#39;&#39;)
%b - The abbreviated month name (&#39;&#39;Jan&#39;&#39;)
%B - The  full  month  name (&#39;&#39;January&#39;&#39;)
%c - The preferred local date and time representation
%d - Day of the month (01..31)
%H - Hour of the day, 24-hour clock (00..23)
%I - Hour of the day, 12-hour clock (01..12)
%j - Day of the year (001..366)
%m - Month of the year (01..12)
%M - Minute of the hour (00..59)
%p - Meridian indicator (&#39;&#39;AM&#39;&#39; or &#39;&#39;PM&#39;&#39;)
%S - Second of the minute (00..60)
%U - Week  number  of the current year,
      starting with the first Sunday as the first
      day of the first week (00..53)
%W - Week  number  of the current year,
      starting with the first Monday as the first
      day of the first week (00..53)
%w - Day of the week (Sunday is 0, 0..6)
%x - Preferred representation for the date alone, no time
%X - Preferred representation for the time alone, no date
%y - Year without a century (00..99)
%Y - Year with century
%Z - Time zone name
%% - Literal &#39;&#39;%&#39;&#39; character
&lt;/code&gt;&lt;/pre&gt;
</content> -->
 </entry>
 

</feed>
